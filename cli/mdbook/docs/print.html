<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js ayu">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>festival-cli v0.0.0</title>
        <meta name="robots" content="noindex" />


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "ayu" : "ayu";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('ayu')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="intro.html">Intro</a></li><li class="chapter-item expanded "><a href="quick-start.html"><strong aria-hidden="true">1.</strong> Quick Start</a></li><li class="chapter-item expanded "><a href="disk.html"><strong aria-hidden="true">2.</strong> Disk</a></li><li class="chapter-item expanded "><a href="api-stability.html"><strong aria-hidden="true">3.</strong> API Stability</a></li><li class="chapter-item expanded "><a href="config.html"><strong aria-hidden="true">4.</strong> Config</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="authorization.html"><strong aria-hidden="true">4.1.</strong> Authorization</a></li></ol></li><li class="chapter-item expanded "><a href="command-line/command-line.html"><strong aria-hidden="true">5.</strong> Command Line</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="command-line/flags.html"><strong aria-hidden="true">5.1.</strong> Top-level flags</a></li><li class="chapter-item expanded "><a href="command-line/methods.html"><strong aria-hidden="true">5.2.</strong> JSON-RPC methods</a></li></ol></li><li class="chapter-item expanded "><a href="json-rpc/json-rpc.html"><strong aria-hidden="true">6.</strong> JSON-RPC</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="json-rpc/quick-start.html"><strong aria-hidden="true">6.1.</strong> Quick Start</a></li><li class="chapter-item expanded "><a href="json-rpc/collection/collection.html"><strong aria-hidden="true">6.2.</strong> Collection</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="json-rpc/collection/collection_new.html"><strong aria-hidden="true">6.2.1.</strong> collection_new</a></li><li class="chapter-item expanded "><a href="json-rpc/collection/collection_brief.html"><strong aria-hidden="true">6.2.2.</strong> collection_brief</a></li><li class="chapter-item expanded "><a href="json-rpc/collection/collection_full.html"><strong aria-hidden="true">6.2.3.</strong> collection_full</a></li><li class="chapter-item expanded "><a href="json-rpc/collection/collection_relation.html"><strong aria-hidden="true">6.2.4.</strong> collection_relation</a></li><li class="chapter-item expanded "><a href="json-rpc/collection/collection_relation_full.html"><strong aria-hidden="true">6.2.5.</strong> collection_relation_full</a></li><li class="chapter-item expanded "><a href="json-rpc/collection/collection_perf.html"><strong aria-hidden="true">6.2.6.</strong> collection_perf</a></li><li class="chapter-item expanded "><a href="json-rpc/collection/collection_resource_size.html"><strong aria-hidden="true">6.2.7.</strong> collection_resource_size</a></li></ol></li><li class="chapter-item expanded "><a href="json-rpc/state-retrieval/state-retrieval.html"><strong aria-hidden="true">6.3.</strong> State Retrieval</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="json-rpc/state-retrieval/state_daemon.html"><strong aria-hidden="true">6.3.1.</strong> state_daemon</a></li><li class="chapter-item expanded "><a href="json-rpc/state-retrieval/state_audio.html"><strong aria-hidden="true">6.3.2.</strong> state_audio</a></li><li class="chapter-item expanded "><a href="json-rpc/state-retrieval/state_reset.html"><strong aria-hidden="true">6.3.3.</strong> state_reset</a></li><li class="chapter-item expanded "><a href="json-rpc/state-retrieval/state_config.html"><strong aria-hidden="true">6.3.4.</strong> state_config</a></li><li class="chapter-item expanded "><a href="json-rpc/state-retrieval/state_ip.html"><strong aria-hidden="true">6.3.5.</strong> state_ip</a></li></ol></li><li class="chapter-item expanded "><a href="json-rpc/key/key.html"><strong aria-hidden="true">6.4.</strong> Key</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="json-rpc/key/key_artist.html"><strong aria-hidden="true">6.4.1.</strong> key_artist</a></li><li class="chapter-item expanded "><a href="json-rpc/key/key_album.html"><strong aria-hidden="true">6.4.2.</strong> key_album</a></li><li class="chapter-item expanded "><a href="json-rpc/key/key_song.html"><strong aria-hidden="true">6.4.3.</strong> key_song</a></li></ol></li><li class="chapter-item expanded "><a href="json-rpc/map/map.html"><strong aria-hidden="true">6.5.</strong> Map</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="json-rpc/map/map_artist.html"><strong aria-hidden="true">6.5.1.</strong> map_artist</a></li><li class="chapter-item expanded "><a href="json-rpc/map/map_album.html"><strong aria-hidden="true">6.5.2.</strong> map_album</a></li><li class="chapter-item expanded "><a href="json-rpc/map/map_song.html"><strong aria-hidden="true">6.5.3.</strong> map_song</a></li></ol></li><li class="chapter-item expanded "><a href="json-rpc/current/current.html"><strong aria-hidden="true">6.6.</strong> Current</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="json-rpc/current/current_artist.html"><strong aria-hidden="true">6.6.1.</strong> current_artist</a></li><li class="chapter-item expanded "><a href="json-rpc/current/current_album.html"><strong aria-hidden="true">6.6.2.</strong> current_album</a></li><li class="chapter-item expanded "><a href="json-rpc/current/current_song.html"><strong aria-hidden="true">6.6.3.</strong> current_song</a></li></ol></li><li class="chapter-item expanded "><a href="json-rpc/rand/rand.html"><strong aria-hidden="true">6.7.</strong> Rand</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="json-rpc/rand/rand_artist.html"><strong aria-hidden="true">6.7.1.</strong> rand_artist</a></li><li class="chapter-item expanded "><a href="json-rpc/rand/rand_album.html"><strong aria-hidden="true">6.7.2.</strong> rand_album</a></li><li class="chapter-item expanded "><a href="json-rpc/rand/rand_song.html"><strong aria-hidden="true">6.7.3.</strong> rand_song</a></li></ol></li><li class="chapter-item expanded "><a href="json-rpc/search/index.html"><strong aria-hidden="true">6.8.</strong> Search</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="json-rpc/search/search.html"><strong aria-hidden="true">6.8.1.</strong> search</a></li><li class="chapter-item expanded "><a href="json-rpc/search/search_artist.html"><strong aria-hidden="true">6.8.2.</strong> search_artist</a></li><li class="chapter-item expanded "><a href="json-rpc/search/search_album.html"><strong aria-hidden="true">6.8.3.</strong> search_album</a></li><li class="chapter-item expanded "><a href="json-rpc/search/search_song.html"><strong aria-hidden="true">6.8.4.</strong> search_song</a></li></ol></li><li class="chapter-item expanded "><a href="json-rpc/playback-control/playback-control.html"><strong aria-hidden="true">6.9.</strong> Playback Control</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="json-rpc/playback-control/toggle.html"><strong aria-hidden="true">6.9.1.</strong> toggle</a></li><li class="chapter-item expanded "><a href="json-rpc/playback-control/play.html"><strong aria-hidden="true">6.9.2.</strong> play</a></li><li class="chapter-item expanded "><a href="json-rpc/playback-control/pause.html"><strong aria-hidden="true">6.9.3.</strong> pause</a></li><li class="chapter-item expanded "><a href="json-rpc/playback-control/next.html"><strong aria-hidden="true">6.9.4.</strong> next</a></li><li class="chapter-item expanded "><a href="json-rpc/playback-control/stop.html"><strong aria-hidden="true">6.9.5.</strong> stop</a></li><li class="chapter-item expanded "><a href="json-rpc/playback-control/shuffle.html"><strong aria-hidden="true">6.9.6.</strong> shuffle</a></li><li class="chapter-item expanded "><a href="json-rpc/playback-control/repeat_off.html"><strong aria-hidden="true">6.9.7.</strong> repeat_off</a></li><li class="chapter-item expanded "><a href="json-rpc/playback-control/repeat_song.html"><strong aria-hidden="true">6.9.8.</strong> repeat_song</a></li><li class="chapter-item expanded "><a href="json-rpc/playback-control/repeat_queue.html"><strong aria-hidden="true">6.9.9.</strong> repeat_queue</a></li><li class="chapter-item expanded "><a href="json-rpc/playback-control/previous.html"><strong aria-hidden="true">6.9.10.</strong> previous</a></li><li class="chapter-item expanded "><a href="json-rpc/playback-control/volume.html"><strong aria-hidden="true">6.9.11.</strong> volume</a></li><li class="chapter-item expanded "><a href="json-rpc/playback-control/clear.html"><strong aria-hidden="true">6.9.12.</strong> clear</a></li><li class="chapter-item expanded "><a href="json-rpc/playback-control/seek.html"><strong aria-hidden="true">6.9.13.</strong> seek</a></li><li class="chapter-item expanded "><a href="json-rpc/playback-control/skip.html"><strong aria-hidden="true">6.9.14.</strong> skip</a></li><li class="chapter-item expanded "><a href="json-rpc/playback-control/back.html"><strong aria-hidden="true">6.9.15.</strong> back</a></li><li class="chapter-item expanded "><a href="json-rpc/playback-control/add_queue_key_artist.html"><strong aria-hidden="true">6.9.16.</strong> add_queue_key_artist</a></li><li class="chapter-item expanded "><a href="json-rpc/playback-control/add_queue_key_album.html"><strong aria-hidden="true">6.9.17.</strong> add_queue_key_album</a></li><li class="chapter-item expanded "><a href="json-rpc/playback-control/add_queue_key_song.html"><strong aria-hidden="true">6.9.18.</strong> add_queue_key_song</a></li><li class="chapter-item expanded "><a href="json-rpc/playback-control/add_queue_map_artist.html"><strong aria-hidden="true">6.9.19.</strong> add_queue_map_artist</a></li><li class="chapter-item expanded "><a href="json-rpc/playback-control/add_queue_map_album.html"><strong aria-hidden="true">6.9.20.</strong> add_queue_map_album</a></li><li class="chapter-item expanded "><a href="json-rpc/playback-control/add_queue_map_song.html"><strong aria-hidden="true">6.9.21.</strong> add_queue_map_song</a></li><li class="chapter-item expanded "><a href="json-rpc/playback-control/add_queue_rand_artist.html"><strong aria-hidden="true">6.9.22.</strong> add_queue_rand_artist</a></li><li class="chapter-item expanded "><a href="json-rpc/playback-control/add_queue_rand_album.html"><strong aria-hidden="true">6.9.23.</strong> add_queue_rand_album</a></li><li class="chapter-item expanded "><a href="json-rpc/playback-control/add_queue_rand_song.html"><strong aria-hidden="true">6.9.24.</strong> add_queue_rand_song</a></li><li class="chapter-item expanded "><a href="json-rpc/playback-control/set_queue_index.html"><strong aria-hidden="true">6.9.25.</strong> set_queue_index</a></li><li class="chapter-item expanded "><a href="json-rpc/playback-control/remove_queue_range.html"><strong aria-hidden="true">6.9.26.</strong> remove_queue_range</a></li></ol></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">festival-cli v0.0.0</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/hinto-janai/festival" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="intro"><a class="header" href="#intro">Intro</a></h1>
<p><code>festival-cli</code> is a <code>JSON-RPC</code> client for <a href="https://docs.festival.pm/daemon"><code>festivald</code></a>.</p>
<p><code>festivald</code> is a music server that plays on the device it is running on, while allowing remote control via clients.</p>
<p><code>festival-cli</code> is a client that reduces the verbosity of <code>JSON-RPC</code> requests, so instead of:</p>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;collection_new&quot;,&quot;params&quot;:{&quot;paths&quot;:null}}'
</code></pre>
<p>You can use:</p>
<pre><code class="language-bash">festival-cli rpc collection_new
</code></pre>
<p>The typical invocation of <code>festival-cli</code>:</p>
<ol>
<li>Reads the config file</li>
<li>Reads the command-line options</li>
<li>Connects and sends a request to <code>festivald</code></li>
<li>Prints out <code>JSON</code> response</li>
</ol>
<p>For a general quick start, see the next section: <a href="quick-start.html">Quick Start</a>.</p>
<h3 id="json-rpc"><a class="header" href="#json-rpc"><code>JSON-RPC</code></a></h3>
<p><code>festival-cli</code> is solely for connecting to, sending requests, and receiving <code>JSON-RPC 2.0</code> responses from a <code>festivald</code>.</p>
<p>For more information on <code>festivald</code>'s API, see here:  <a href="https://docs.festival.pm/daemon">https://docs.festival.pm/daemon</a>.</p>
<h3 id="rest"><a class="header" href="#rest"><code>REST</code></a></h3>
<p><code>festival-cli</code> doesn't have any options for interacting with <code>festivald</code>'s <code>REST</code> API.</p>
<p>A generic HTTP client is better suited for this job, like <code>curl</code>, <code>wget</code>, or a web browser.</p>
<h3 id="documentation"><a class="header" href="#documentation">Documentation</a></h3>
<p>To open this documentation locally:</p>
<pre><code class="language-bash">festival-cli --docs
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="quick-start"><a class="header" href="#quick-start">Quick Start</a></h1>
<p>A quick start to using <code>festival-cli</code>.</p>
<p>Important things to know:</p>
<ol>
<li>The main music library/database in <code>festivald</code> is called the <a href="common-objects/collection.html"><code>Collection</code></a></li>
<li>The <code>Collection</code> is created by scanning the filesystem <code>festivald</code> is running on</li>
<li>Everything revolves around the <code>Collection</code>, you should create one before doing anything</li>
<li>In <code>festivald</code>, there are &quot;objects&quot; that appear often, see <a href="common-objects/common-objects.html"><code>Common Objects</code></a> for more info</li>
</ol>
<h2 id="launch-festivald--create-a-new-collection-with-festival-cli"><a class="header" href="#launch-festivald--create-a-new-collection-with-festival-cli">Launch <code>festivald</code> &amp; create a new <code>Collection</code> with <code>festival-cli</code></a></h2>
<p>Start <code>festivald</code> with no options:</p>
<pre><code class="language-bash">./festivald
</code></pre>
<p><code>festivald</code> will use a default <a href="config.html"><code>configuration</code></a> and open up on <code>http://localhost:18425</code>.</p>
<p>You can then tell <code>festivald</code> to create a new <code>Collection</code> with:</p>
<pre><code class="language-bash">festival-cli collection_new /path/to/collection/on/festivald
</code></pre>
<p>The PATH used <em>must</em> be a PATH on the machine <code>festivald</code> is running on, not the machine <code>festival-cli</code> is ran on.</p>
<p>If no PATH is specified, 4 things can happen:</p>
<ul>
<li>Your <code>festival-cli</code>'s custom <a href="config.html">config</a> PATH is used</li>
<li><code>festival-cli</code>'s default PATH is used (OS Music directory)</li>
<li><code>festivald</code>'s custom config PATH is used</li>
<li><code>festivald</code>'s default PATH is used (OS Music directory)</li>
</ul>
<p>If you have a custom PATH set in <a href="config.html"><code>festival-cli.toml</code></a>, that PATH will be used if no PATH is specified on the command line.</p>
<h2 id="view-metadata-about-an-album-with-map_artist"><a class="header" href="#view-metadata-about-an-album-with-map_artist">View metadata about an <code>Album</code> with <a href="json-rpc/map/map_artist.html"><code>map_artist</code></a></a></h2>
<p>This will lookup the <code>Album</code> &quot;Cigarette &amp; Alcohol&quot; by the <code>Artist</code> &quot;LUCKY TAPES&quot;.</p>
<pre><code class="language-bash">festival-cli map_artist --artist &quot;LUCKY TAPES&quot; --album &quot;Cigarette &amp; Alcohol&quot;
</code></pre>
<p>The response looks like:</p>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;title&quot;: &quot;Cigarette &amp; Alcohol&quot;,
    &quot;key&quot;: 752,
    &quot;artist&quot;: 169,
    &quot;release&quot;: &quot;2016-07-06&quot;,
    &quot;runtime&quot;: 2593,
    &quot;song_count&quot;: 10,
    &quot;songs&quot;: [
      7611,
      7616,
      7618,
      7619,
      7620,
      7621,
      7622,
      7623,
      7624,
      7626
    ],
    &quot;discs&quot;: 0,
    &quot;art&quot;: 1947006,
    &quot;genre&quot;: null
  },
  &quot;id&quot;: 0
}
</code></pre>
<h2 id="search-for-an-artist-with-search_artist"><a class="header" href="#search-for-an-artist-with-search_artist">Search for an <code>Artist</code> with <a href="json-rpc/search/search_artist.html"><code>search_artist</code></a></a></h2>
<p>This will look up <em>all</em> <code>Artist</code>'s in the <code>Collection</code>, and return the one that is the most similar (lexicographically) to the input &quot;lUcKee TaPeZ&quot;.</p>
<pre><code class="language-bash">festival-cli search_artist --input &quot;lUcKee TaPeZ&quot; --kind &quot;top1&quot;
</code></pre>
<p>We found &quot;LUCKY TAPES&quot;:</p>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;artists&quot;: [
      {
        &quot;name&quot;: &quot;LUCKY TAPES&quot;,
        &quot;key&quot;: 169,
        &quot;runtime&quot;: 2593,
        &quot;albums&quot;: [
          752
        ],
        &quot;songs&quot;: [
          7611,
          7616,
          7618,
          7619,
          7620,
          7621,
          7622,
          7623,
          7624,
          7626
        ]
      }
    ]
  },
  &quot;id&quot;: 0
}
</code></pre>
<h2 id="add-an-artist-to-the-queue-with-add_queue_map_artist"><a class="header" href="#add-an-artist-to-the-queue-with-add_queue_map_artist">Add an <code>Artist</code> to the queue with <a href="json-rpc/queue/add_queue_map_artist"><code>add_queue_map_artist</code></a></a></h2>
<p>This will add all <code>Song</code>'s by the <code>Artist</code> &quot;LUCKY TAPES&quot; to the front of the queue.</p>
<pre><code class="language-bash">festival-cli add_queue_map_artist --artist &quot;LUCKY TAPES&quot; --append front
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="disk"><a class="header" href="#disk">Disk</a></h1>
<p><code>festivald</code> saves all of its files within various &quot;OS&quot; directories, owned by the user running it.</p>
<p>You can list all the PATHs on your system with:</p>
<pre><code class="language-bash">./festivald data --path
</code></pre>
<p>And delete them with with:</p>
<pre><code class="language-bash">./festivald data --delete
</code></pre>
<p><code>festivald</code> saves everything into <code>daemon/</code> because other Festival frontends also use the same <code>festival</code> project directory, e.g:</p>
<pre><code>~/.local/share/festival/
  ├─ gui/
  ├─ daemon/
  ├─ cli/
</code></pre>
<h2 id="cache"><a class="header" href="#cache">Cache</a></h2>
<p>Where <code>festivald</code>'s cache data is saved (<code>REST</code> ZIP cache, etc).</p>
<div class="table-wrapper"><table><thead><tr><th>Platform</th><th>Value</th><th>Example</th></tr></thead><tbody>
<tr><td>Windows</td><td><code>{FOLDERID_LocalAppData}\Festival\cache</code></td><td><code>C:\Users\Alice\AppData\Local\Festival\daemon\cache</code></td></tr>
<tr><td>macOS</td><td><code>$HOME/Library/Caches/Festival</code></td><td><code>/Users/Alice/Library/Caches/Festival/daemon</code></td></tr>
<tr><td>Linux</td><td><code>$HOME/.cache/festival/daemon</code></td><td><code>/home/alice/.cache/festival/daemon</code></td></tr>
</tbody></table>
</div>
<p>The <code>Cache</code> sub-directories/files, and their purpose:</p>
<pre><code class="language-plaintext">├─ daemon/
   │
   ├─ zip/ # Cached ZIP files
      │
      ├─ collection/ # Cached `Collection` ZIPs, created by the `/collection` REST endpoint
      │  │
      │  ├─ tmp/ # Temporary, un-finished ZIP files
      │
      ├─ artist/ # Cached `Artist` ZIPs, created by the `*_artist` REST endpoints
      │  │
      │  ├─ tmp/ # Temporary, un-finished ZIP files
      │
      ├─ album/ # # Cached `Artist` ZIPs, created by the `*_album` REST endpoints
      │  │
      │  ├─ tmp/ # Temporary, un-finished ZIP files
      │
      ├─ art/ # # Cached `Artist` ZIPs, created by the `art_*` REST endpoints
      │  │
      │  ├─ tmp/ # Temporary, un-finished ZIP files
</code></pre>
<h2 id="config"><a class="header" href="#config">Config</a></h2>
<p>Where <code>festivald</code>'s configuration files are saved.</p>
<div class="table-wrapper"><table><thead><tr><th>Platform</th><th>Value</th><th>Example</th></tr></thead><tbody>
<tr><td>Windows</td><td><code>{FOLDERID_RoamingAppData}\Festival\config\daemon</code></td><td><code>C:\Users\Alice\AppData\Roaming\Festival\config\daemon</code></td></tr>
<tr><td>macOS</td><td><code>$HOME/Library/Application Support/Festival/daemon</code></td><td><code>/Users/Alice/Library/Application Support/Festival/daemon</code></td></tr>
<tr><td>Linux</td><td><code>$HOME/.config/festival/daemon</code></td><td><code>/home/alice/.config/festival/daemon</code></td></tr>
</tbody></table>
</div>
<p>The <code>Config</code> sub-directories/files, and their purpose:</p>
<pre><code class="language-plaintext">├─ daemon/
   │
   ├─ festivald.toml # Config file used by `festivald`
</code></pre>
<h2 id="data"><a class="header" href="#data">Data</a></h2>
<p>Where <code>festivald</code>'s main data is saved (the <a href="common-objects/common-objects.html"><code>Collection</code></a>, audio state, etc).</p>
<div class="table-wrapper"><table><thead><tr><th>Platform</th><th>Value</th><th>Example</th></tr></thead><tbody>
<tr><td>Windows</td><td><code>{FOLDERID_RoamingAppData}\Festival\data\daemon</code></td><td><code>C:\Users\Alice\AppData\Roaming\Festival\data\daemon</code></td></tr>
<tr><td>macOS</td><td><code>$HOME/Library/Application Support/Festival/daemon</code></td><td><code>/Users/Alice/Library/Application Support/Festival/daemon</code></td></tr>
<tr><td>Linux</td><td><code>$HOME/.local/share/festival/daemon</code></td><td><code>/home/alice/.local/share/festival/daemon</code></td></tr>
</tbody></table>
</div>
<p>The <code>Data</code> sub-directories/files, and their purpose:</p>
<pre><code class="language-plaintext">├─ daemon/
   │
   ├─ state/
   │  ├─ audio.bin      # Audio state, e.g: elapsed time, current song.
   │  ├─ collection.bin # The main music `Collection`, holds metadata and PATHs to audio files.
   │
   ├─ txt/
   │  ├─ crash.txt  # Crash/panic data. Useful for bug reports.
   │  ├─ perf.json  # Collection creation performance timings, in JSON.
   │
   ├─ docs/ # The static documentations files served by `festivald`
   │
   ├─ image/ # Full-sized, un-changed `Album` art
   │
   ├─ signal/ # This is how `festivald` communicates with an existing one
              # (e.g `festivald signal --play`), via filesystem-based signals.
              # `festivald --play` quite literally just creates an empty
              # file inside this folder called `play`.
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="api-stability"><a class="header" href="#api-stability">API Stability</a></h1>
<p>Some notes on what parts of <code>festivald</code>'s API can/cannot be relied upon.</p>
<p>In general:</p>
<ul>
<li>Things may be added, but never removed</li>
<li>Inputs will never change, but their outputs <em>may</em> contain additions in the future</li>
</ul>
<p>These rules will apply until a potential <code>v2.0.0</code> breaking release.</p>
<h2 id="festival-cli"><a class="header" href="#festival-cli"><code>festival-cli</code></a></h2>
<p><code>festivald</code> and <code>festival-cli</code>'s versions are tied together to represent their compatibility.</p>
<p><code>festivald</code> will be able to (fully) respond to <code>festival-cli</code> as long as <code>festivald</code>'s:</p>
<ul>
<li>Major version is the same</li>
<li>Minor version is the same or greater</li>
</ul>
<p>For example, <code>festivald v1.2.x</code> is fully compatible with:</p>
<ul>
<li><code>festival-cli v1.2.x</code></li>
<li><code>festival-cli v1.1.x</code></li>
<li><code>festival-cli v1.0.x</code></li>
</ul>
<p>but not necessarily with <code>festival-cli v1.3.x</code> and beyond.
Note that an older <code>festivald</code> will still be able to communicate with a newer <code>festival-cli</code>, however, if the new <code>festival-cli</code> is requesting a new method, the old <code>festivald</code> won't be able to respond correctly.</p>
<h2 id="config-1"><a class="header" href="#config-1">Config</a></h2>
<ul>
<li><a href="config.html"><code>config</code></a> names are stable (<code>max_connections</code> will always be named <code>max_connections</code>)</li>
<li>Their expected inputs are stable (<code>max_connections</code> will always want an unsigned integer)</li>
<li>Their expected behavior is stable (<code>max_connections</code> will always control the max amount of connections)</li>
<li>Default config values <em>may</em> be changed (default <code>port</code> value may not always be <code>18425</code>)</li>
<li>Additional fields <em>may</em> be added in the future</li>
</ul>
<h2 id="command-line"><a class="header" href="#command-line">Command Line</a></h2>
<ul>
<li><a href="command-line/command-line.html"><code>--flags</code></a> and sub-command names are stable (<code>festivald data --path</code> will always be <code>festivald data --path</code>)</li>
<li>Their expected inputs/outputs are stable</li>
<li>Additional flags and/or sub-commands <em>may</em> be added in the future</li>
</ul>
<h2 id="disk-1"><a class="header" href="#disk-1">Disk</a></h2>
<p>All locations and filenames of all files written to disk by <code>festivald</code> are stable.</p>
<div class="table-wrapper"><table><thead><tr><th>Type</th><th>Example</th></tr></thead><tbody>
<tr><td><a href="disk.html#cache"><code>Cache</code></a></td><td><code>Artist</code> ZIP cache is always at <code>~/.cache/festival/daemon/zip/artist</code></td></tr>
<tr><td><a href="disk.html#config"><code>Config</code></a></td><td><code>Config</code> file is always at <code>~/.config/festival/daemon/festivald.toml</code></td></tr>
<tr><td><a href="disk.html#data"><code>Data</code></a></td><td><code>Collection</code> file is always at <code>~/.local/share/festival/daemon/state/collection.bin</code></td></tr>
</tbody></table>
</div>
<h2 id="json-rpc-1"><a class="header" href="#json-rpc-1">JSON-RPC</a></h2>
<ul>
<li>Method names (<a href="json-rpc/collection/collection_new.html"><code>collection_new</code></a>) are stable</li>
<li>Additional methods <em>may</em> be added in the future</li>
<li>Parameter names, types, and count are stable (new parameter fields to an <em>existing</em> method will never be added)</li>
<li>Additional response fields to an <em>existing</em> method <em>may</em> be added in the future</li>
<li>Although old response fields will remain, the <em>ordering</em> of response fields should <em>NOT</em> be relied upon</li>
<li>These rules also apply to the <a href="common-objects/common-objects.html"><code>Common Objects</code></a></li>
</ul>
<p>Old <code>v1.0.0</code> JSON-RPC example:</p>
<pre><code class="language-json">// Request
{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;method&quot;: &quot;This will never change&quot;,
  &quot;param&quot;: {
    &quot;param_field&quot;: &quot;This will never change&quot;
  },
  &quot;id&quot;: 0,
}

// Response
{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;result_field&quot;: &quot;Introduced in v1.0.0&quot;
  },
  &quot;id&quot;: 0,
}
</code></pre>
<p>New <code>v1.x.x</code> JSON-RPC example:</p>
<pre><code class="language-json">// Request
{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;method&quot;: &quot;This will never change&quot;,
  &quot;param&quot;: {
    &quot;param_field&quot;: &quot;This will never change&quot;
  },
  &quot;id&quot;: 0,
}

// Response
{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;result_field3&quot;: &quot;Introduced in v1.3.x&quot;,
    &quot;result_field&quot;: &quot;Introduced in v1.0.0&quot;,
    &quot;result_field2&quot;: &quot;Introduced in v1.2.x&quot;
  },
  &quot;id&quot;: 0,
}
</code></pre>
<h2 id="rest-1"><a class="header" href="#rest-1">REST</a></h2>
<ul>
<li>Endpoint names (<a href="rest/key/artist.html"><code>/key_artist</code></a>) and their input types are stable</li>
<li>Endpoint outputs are stable (the above endpoint will <em>always</em> output a ZIP file)</li>
<li>Additional endpoints <em>may</em> be added in the future</li>
<li>Output filenames are stable (<code>/key_artist</code> will always output a ZIP file with the name <code>${ARTIST_NAME}.zip</code>)</li>
<li>The file hierarchy within ZIPs are stable</li>
</ul>
<p>This below example will be the same for the rest of <code>festivald v1.x.x</code>:</p>
<pre><code class="language-plaintext"># Input
https://localhost:18425/map/My Artist

# Output
My Artist.zip

# Extracted
My Artist/
    ├─ Album Name 1/
    │    ├─ Album Name 1.jpg
    │    ├─ Song Name 1.mp3
    │
    │─ Album Name 2/
    │    ├─ Album Name 2.png
    │    ├─ Song Name 2.mp3
</code></pre>
<h2 id="errors"><a class="header" href="#errors">Errors</a></h2>
<p>Do not rely on the <em>details</em> of the <code>JSON-RPC</code> &amp; <code>REST</code> API errors.</p>
<p>You can rely that an input that leads to OK/ERROR will always be the same.</p>
<h2 id="logs"><a class="header" href="#logs">Logs</a></h2>
<p>Do not rely on the log output of <code>festivald</code>.</p>
<h2 id="documentation-1"><a class="header" href="#documentation-1">Documentation</a></h2>
<p>Do not rely on the exact name or position of something within this documentation.</p>
<p>For example, this section <a href="./api-stability.html"><code>API Stability</code></a> may be renamed to <code>API Reliability</code> and/or moved to a different chapter.</p>
<p>Documentation may change at any given moment to provide the most accurate information.</p>
<h2 id="protocol"><a class="header" href="#protocol">Protocol</a></h2>
<ul>
<li>HTTP(s) will always be the transport</li>
<li>Version <a href="https://jsonrpc.org/specification"><code>2.0</code></a> of <code>JSON-RPC</code> will always be used</li>
<li><code>JSON-RPC</code> will always require <code>POST HTTP</code> requests</li>
<li><code>REST</code> and documentation will always require <code>GET HTTP</code> requests</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="config-2"><a class="header" href="#config-2">Config</a></h1>
<p><code>festivald</code> reads and loads its configuration file, <code>festivald.toml</code>, on startup. It controls various behaviors of <code>festivald</code>.</p>
<p>Exactly where this file is depends on the OS, more details in the <a href="disk.html"><code>Disk</code></a> section.</p>
<p><a href="command-line/command-line.html"><code>Command Line</code></a> flags will override any overlapping config values.</p>
<h2 id="festivaldtoml"><a class="header" href="#festivaldtoml"><code>festivald.toml</code></a></h2>
<p>This is the default configuration file <code>festivald</code> creates and uses.</p>
<p>If <code>festivald</code> is started with no <code>--flags</code>, e.g:</p>
<pre><code class="language-bash">./festivald
</code></pre>
<p>Then it will be equivalent to this config file.</p>
<pre><code class="language-toml">{{#include ../../config/festivald.toml}}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="authorization"><a class="header" href="#authorization">Authorization</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="command-line-1"><a class="header" href="#command-line-1">Command Line</a></h1>
<p><code>festivald</code> takes in <code>--flags</code> for many purposes.</p>
<p>Arguments passed to <code>festivald</code> will always take priority over the same <a href="command-line/../config.html">configuration</a> options read from disk.</p>
<p><code>festivald</code> also has a few sub-commands. For example, to send a signal to a <code>festivald</code> running on the same local machine, you can run:</p>
<pre><code class="language-bash">./festivald signal --play
</code></pre>
<p>All these &quot;signal&quot;-related <code>--flags</code> live in the <a href="command-line/signal.html"><code>signal</code></a> sub-command.</p>
<h2 id="examples"><a class="header" href="#examples">Examples</a></h2>
<p>Here are some command-line usage examples.</p>
<h4 id="start-festivald-on-httplocalhost18425-by-default"><a class="header" href="#start-festivald-on-httplocalhost18425-by-default">Start <code>festivald</code> on <code>http://localhost:18425</code> (by default)</a></h4>
<pre><code class="language-bash">./festivald
</code></pre>
<h4 id="print-the-path-used-by-festivald"><a class="header" href="#print-the-path-used-by-festivald">Print the PATH used by <code>festivald</code></a></h4>
<pre><code class="language-bash">./festivald data --path
</code></pre>
<h4 id="delete-all-data-createdused-by-festivald"><a class="header" href="#delete-all-data-createdused-by-festivald">Delete all data created/used by <code>festivald</code></a></h4>
<pre><code class="language-bash">./festivald data --delete
</code></pre>
<h4 id="set-log-level-disable-everything-except-json-rpc"><a class="header" href="#set-log-level-disable-everything-except-json-rpc">Set log level, disable everything except <code>JSON-RPC</code></a></h4>
<pre><code class="language-bash">./festivald --log-level DEBUG --disable-watch --disable-media-controls --disable-rest --disable-docs
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="top-level-flags"><a class="header" href="#top-level-flags">Top-level flags</a></h1>
<p>Top-level command flags.</p>
<pre><code class="language-plaintext">Usage: festivald [OPTIONS] [COMMAND + OPTIONS] [ARGS...]

Options:
      --ip &lt;IP&gt;
          The IPv4 address `festivald` will bind to [default: 127.0.0.1]

      --port &lt;PORT&gt;
          The port `festivald` will bind to [default: 18425]

      --max-connections &lt;NUMBER&gt;
          Max amount of connections [default: unlimited]
          
          The max amount of connections `festivald`
          will serve at any given moment.
          `0` means unlimited.
          
          Note that 1 client doesn't necessarily mean
          1 connection. A single web browser client for
          example can make many multiple connections
          to `festivald`.

      --exclusive-ip &lt;IP&gt;
          Only accept connections from these IPs
          
          `festivald` will only serve connections coming
          from these IPs. If there's no value given or
          any of the values is &quot;0.0.0.0&quot;, `festivald`
          will serve all IP ranges.
          
          To allow multiple IPs, use this flag per IP.
          
          Example: `festivald --exclusive-ip 127.0.0.1 --exclusive-ip 192.168.2.1`

      --tls
          Enable HTTPS
          
          You must also provide a PEM-formatted X509 certificate
          and key in the below options for this to work.
          
          Example: `festivald --tls --certificate /path/to/cert.pem --key /path/to/key.pem`

      --certificate &lt;FILE&gt;
          The PEM-formatted X509 certificate file used for TLS

      --key &lt;FILE&gt;
          The PEM-formatted key file used for TLS

      --authorization &lt;USER:PASS or FILE&gt;
          Enforce a `username` and `password` for connections to `festivald`
          
          Only process connections to `festivald` that have a
          &quot;authorization&quot; HTTP header with this username and password.
          
          If either the `--no-auth-rpc` or `--no-auth-rest` options are
          used, then every RPC call/REST endpoint _NOT_ in those lists
          will require this authorization.
          
          TLS must be enabled for this feature to work
          or `festivald` will refuse to start.
          
          This value must be:
            1. The &quot;username&quot;
            2. Followed by a single colon &quot;:&quot;
            3. Then the &quot;password&quot;, e.g:
          ```
          festivald --authorization my_user:my_pass
          ```
          An empty string disables this feature.
          
          Alternatively, you can input an absolute PATH to a file
          `festivald` can access, containing the string, e.g:
          ```
          festivald --authorization &quot;/path/to/user_and_pass.txt&quot;
          ```
          In this case, `festivald` will read the file and attempt
          to parse it with the same syntax, i.e, the file should contain:
          ```
          my_user:my_pass
          ```

      --no-auth-rpc &lt;METHOD&gt;
          Allow specified JSON-RPC calls without authorization
          
          If a JSON-RPC method is listed in this array,
          `festivald` will allow any client to use it,
          regardless of authorization.
          
          This allows you to have `authorization` enabled
          across the board, but allow specific JSON-RPC
          calls for public usage.
          
          For example, if only `toggle` is listed, then
          clients WITHOUT authorization will only be
          allowed to use the `toggle` method, for every
          other method, they must authenticate.
          
          The method names listed here must match the
          exact names when using them, or shown in the
          documentation, see here:
          
          &lt;https://docs.festival.pm/daemon/json-rpc/json-rpc.html&gt;
          
          OR WITH
          
          ```
          festivald data --docs
          ```
          
          To allow multiple methods, use this flag per method.
          
          Example: `festivald --no-auth-rpc toggle --no-auth-rpc volume`

      --no-auth-rest &lt;RESOURCE&gt;
          Allow specified REST resources without authorization,
          
          REST resources, from most expensive to least:
            - `collection`
            - `artist`
            - `album`
            - `song`
            - `art`
          
          If a REST resource is listed in this array,
          `festivald` will allow any client to use it,
          regardless of authorization.
          
          For example, if only `art` is listed, then
          clients WITHOUT authorization will only be
          allowed to use the `art` related endpoints
          (/rand/art, /current/art, etc). For every
          other endpoint (/rand/song, /collection, etc),
          they must authenticate.
          
          To allow multiple methods, use this flag per method.
          
          Example: `festivald --no-auth-rest art --no-auth-rest song`

      --sleep-on-fail &lt;MILLI&gt;
          Sleep before responding to (potentially malicious) failed connections
          
          Upon a failed, potentially malicious request, instead of
          immediately responding, `festivald` will randomly sleep
          up to this many milliseconds before responding to the connection.
          
          This includes:
            - Authentication failure
            - IPs not in the `exclusive_ips` list
            - IPv6 connections
          
          If 0, `festivald` will immediately respond. This may
          not be wanted to due potential DoS and timing attacks.
          
          If you're hosting locally (127.0.0.1), you can set this
          to 0 (unless you don't trust your local network?).

      --collection-path &lt;PATH&gt;
          Default PATHs to use for the `Collection`
          
          Upon a `collection_new` JSON-RPC method call, if the
          `paths` parameter is empty, these PATHs will be scanned
          instead.
          
          If this is not set, the default OS `Music` directory will be scanned.
          
          To set multiple PATHs, use this flag per PATH.
          
          Example: `festivald --collection-path /my/path/1 --collection-path /my/path/2`

      --direct-download
          Enable direct downloads via the REST API for browsers
          
          By default, accessing the REST API via a browser
          will open the resource in the browser (audio player,
          image viewer, etc)
          
          Using this flag will make browsers download
          the file directly, without opening it.

      --filename-separator &lt;SEPARATOR&gt;
          When files are downloaded via the REST API, and the
          file is a nested object referencing multiple things
          (e.g, an _album_ owned by an _artist_), we must include
          that information, but what string should separate them?
          
          The default separator is &quot; - &quot;, e.g:
          ```
          Artist Name - Album Title.zip
          ```
          it can be changed to any string, like &quot;/&quot;:
          ```
          Artist Name/Album Title.zip
          ```
          or left empty &quot;&quot; for no separator at all.

      --cache-time &lt;SECONDS&gt;
          Set the `REST` API cache time limit
          
          When serving `ZIP` files via the REST API, `festivald`
          will first write them to disk, then serve those files
          instead of directly storing everything in memory,
          as to not get OOM-killed on more than a few requests.
          
          This option sets the time limit on how many seconds
          `festivald` will hold onto this cache for.
          
          Once the time limit is up, `festivald` will remove the
          file. This cache is also reset on startup and shutdown.
          
          Default is 3600 seconds (1 hour).

      --disable-watch
          Disable watching the filesystem for signals
          
          The way a newly launched Festival communicates to
          an already existing one (e.g, `festivald --play`) is
          by creating a file in Festival's `signal` directory.
          
          `festivald --FLAG` just creates a file in that directory,
          which an existing Festival will notice and do the appropriate task.
          
          Using `--disable-watch` will disable that part of the system so that
          filesystem signals won't work, e.g, `festivald --play` will not work.

      --disable-media-controls
          Disable OS media controls
          
          Festival plugs into the native OS's media controls so that signals
          like `play/pause/stop` and/or keyboard controls can be processed.
          
          `--disable-media-controls` disables this.

      --disable-rest
          Disable the REST API
          
          This is responsible for the `/rest` API that
          serves image, audio, and other heavy resource data.
          
          `--disable-rest` will disable this part of the system,
          and will only leave the JSON-RPC API available.

      --disable-docs
          Enable/disable serving documentation
          
          By default, `festivald` serves a markdown book
          of it's own documentation, accessible at the
          root `/` endpoint, e.g:
          ```
          http://localhost:18425/
          ```
          
          `--disable-docs` will disable that.

      --log-level &lt;OFF|ERROR|INFO|WARN|DEBUG|TRACE&gt;
          Set filter level for console logs

  -v, --version
          Print version

  -h, --help
          Print help (see a summary with '-h')
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="json-rpc-methods"><a class="header" href="#json-rpc-methods">JSON-RPC methods</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="json-rpc-2"><a class="header" href="#json-rpc-2">JSON-RPC</a></h1>
<p><code>festivald</code> exposes a <a href="https://www.jsonrpc.org/specification"><code>JSON-RPC 2.0</code></a> API for general state retrieval &amp; signal control.</p>
<p>It can be accessed by sending a POST HTTP request containing a <code>JSON-RPC 2.0</code> request in the body, to the root endpoint, <code>/</code>.</p>
<p>For a quick start on using it, see the next section: <a href="json-rpc/json-rpc/quick-start.html">Quick Start</a>.</p>
<h3 id="missing-resource"><a class="header" href="#missing-resource">Missing resource</a></h3>
<p>If a <code>JSON-RPC</code> method is interacting with an underlying resource and that resource is missing from the filesystem, <code>festivald</code> will <em>not</em> respond to the client with an error, however, it will log an error message on the machine it is running on.</p>
<p>For example, if a <a href="json-rpc/json-rpc/playback/add_queue_key_song.html"><code>add_queue_key_song</code></a> method is sent, and <em>that</em> <code>Song</code>'s underlying PATH is missing/moved/renamed from when the <code>Collection</code> was created:</p>
<pre><code class="language-bash">mv &quot;Artist/Album/Song Title&quot; &quot;Artist/Album/Song_Title&quot;
</code></pre>
<p><code>festivald</code> will now have a reference to a non-existent PATH and will not be able to find the file, so it will log an error that looks something like:</p>
<pre><code class="language-plaintext">Audio - PATH error: No such file or directory (os error 2) ... /path/to/unknown/song.mp3
</code></pre>
<p>You can re-create the <code>Collection</code> with <a href="json-rpc/json-rpc/collection/collection_new.html"><code>collection_new</code></a> to re-link these PATHs.</p>
<h3 id="example-json-rpc-20-request"><a class="header" href="#example-json-rpc-20-request">Example <code>JSON-RPC 2.0</code> <em>request</em>:</a></h3>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,   // JSON-RPC version. MUST be exactly &quot;2.0&quot;
  &quot;method&quot;: &quot;method&quot;, // A string of the method name
  &quot;param&quot;: null,      // Optional parameters needed by the method
  &quot;id&quot;: 0,            // An ID, MUST be a String, Number, or NULL value if included
}
</code></pre>
<h3 id="example-shell-script-for-sending-a-request"><a class="header" href="#example-shell-script-for-sending-a-request">Example Shell script for sending a request:</a></h3>
<pre><code class="language-bash">IP=localhost             # ip of festivald
PORT=18425               # port of festivald
METHOD='previous'        # the method to call
PARAMS='{&quot;threshold&quot;:3}' # the parameters of the method
ID=0                     # the ID of this request

# Send JSON-RPC request to goto the previous song
# (or reset the current, if more than 3 seconds has passed).
curl \
    http://$IP:$PORT \
    -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:$ID,&quot;method&quot;:&quot;'$METHOD'&quot;,&quot;params&quot;:'$PARAMS'}'
</code></pre>
<h3 id="example-json-rpc-20-successful-response"><a class="header" href="#example-json-rpc-20-successful-response">Example <code>JSON-RPC 2.0</code> SUCCESSFUL <em>response</em>:</a></h3>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;, // JSON-RPC version. Will always be exactly &quot;2.0&quot;
  &quot;result&quot;: {       // The field containing the result of the SUCCESSFUL response
    // This can contain fields that
    // are nested arbitrarily deep.
    // Although, most times they
    // will be simple &quot;key&quot;: value
    // pairs.
  },
  &quot;id&quot;: 0, // The ID associated with the client
}
</code></pre>
<h3 id="example-json-rpc-20-failed-response"><a class="header" href="#example-json-rpc-20-failed-response">Example <code>JSON-RPC 2.0</code> FAILED <em>response</em>:</a></h3>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;, // JSON-RPC version. Will always be exactly &quot;2.0&quot;
  &quot;error&quot;: {        // The field containing the result of the FAILED response
    &quot;code&quot;: -32601, // A number that indicates the error type that occurred
    &quot;message&quot;: &quot;&quot;,  // A string providing a short description of the error
    &quot;data&quot;: null,   // An OPTIONAL field containing extra data about the error
  },
  &quot;id&quot;: 0, // The ID associated with the client
}
</code></pre>
<h3 id="parameters"><a class="header" href="#parameters">Parameters</a></h3>
<p>For methods without parameters, the field can be omitted:</p>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;toggle&quot;}'
</code></pre>
<p>All method documentation will include what inputs it needs, what output to expect, and examples.</p>
<p>All method names, parameter names, and field names are in <code>lower_case_snake_case</code>.</p>
<p>The title of the section itself is the method name, for example, <a href="json-rpc/json-rpc/collection/collection_new.html"><code>collection_new</code></a> <em>is</em> the method name.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="json-rpc-quick-start"><a class="header" href="#json-rpc-quick-start"><code>JSON-RPC</code> Quick Start</a></h1>
<p>A quick start to using <code>festivald</code>'s <code>JSON-RPC 2.0</code> API.</p>
<h2 id="create-the-collection-and-start-playing-an-artist"><a class="header" href="#create-the-collection-and-start-playing-an-artist">Create the <code>Collection</code> and start playing an <code>Artist</code></a></h2>
<ol>
<li>First, scan the default <code>Music</code> directory on <code>festivald</code>'s filesystem, and create a <code>Collection</code> with <a href="json-rpc/collection/collection_new.html"><code>collection_new</code></a>:</li>
</ol>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;collection_new&quot;,&quot;params&quot;:{&quot;paths&quot;:null}}'
</code></pre>
<ol start="2">
<li>Add the <code>Artist</code> &quot;LUCKY TAPES&quot; to the queue with <a href="json-rpc/playback/add_queue_map_artist.html"><code>add_queue_map_artist</code></a>:</li>
</ol>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;add_queue_map_artist&quot;,&quot;params&quot;:{&quot;artist&quot;:&quot;LUCKY TAPES&quot;}}'
</code></pre>
<ol start="3">
<li>Start playing with <a href="json-rpc/playback/play.html"><code>play</code></a>:</li>
</ol>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;play&quot;}'
</code></pre>
<h2 id="view-state-of-current-audio-playback-with-state_audio"><a class="header" href="#view-state-of-current-audio-playback-with-state_audio">View state of current audio playback with <a href="json-rpc/state/state_audio.html"><code>state_audio</code></a></a></h2>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;state_audio&quot;}'
</code></pre>
<h2 id="set-the-volume-to-10-with-volume"><a class="header" href="#set-the-volume-to-10-with-volume">Set the volume to 10% with <a href="json-rpc/playback/volume.html"><code>volume</code></a></a></h2>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;volume&quot;,&quot;params&quot;:{&quot;volume&quot;:10}}'
</code></pre>
<h2 id="view-the-current-album-with-current_album"><a class="header" href="#view-the-current-album-with-current_album">View the current <code>Album</code> with <a href="json-rpc/current/current_album.html"><code>current_album</code></a></a></h2>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;current_album&quot;}'
</code></pre>
<h2 id="clear-the-queue-and-stop-playback-with-stop"><a class="header" href="#clear-the-queue-and-stop-playback-with-stop">Clear the queue and stop playback with <a href="json-rpc/playback/stop.html"><code>stop</code></a></a></h2>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;stop&quot;}'
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="collection"><a class="header" href="#collection">Collection</a></h1>
<p>Methods related for creating and viewing various info about the <a href="json-rpc/collection/../../common-objects/collection.html"><code>Collection</code></a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="collection_new"><a class="header" href="#collection_new">collection_new</a></h1>
<p>Create a new <a href="json-rpc/collection/../../common-objects/collection.html"><code>Collection</code></a> (and replace the current one).</p>
<p>While this method is in progress, other <code>JSON-RPC</code> requests will be rejected.</p>
<p><code>festivald</code> will respond with some stats when the <code>Collection</code> reset has finished.</p>
<p>The output is a superset of the <a href="json-rpc/collection/collection_brief.html"><code>collection_brief</code></a> method.</p>
<h4 id="inputs"><a class="header" href="#inputs">Inputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>paths</td><td>optional (maybe null) array of PATHs</td><td>An array of filesystem PATHs to scan for the new <code>Collection</code>. These must be absolute PATHs <strong>on the system <code>festivald</code> is running on</strong>, not PATHs on the client. If <code>null</code> is provided, the default <code>Music</code> directory will be used.</td></tr>
</tbody></table>
</div>
<h4 id="outputs"><a class="header" href="#outputs">Outputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>time</td><td>float</td><td>How many seconds the reset took</td></tr>
<tr><td>empty</td><td>boolean</td><td>If the <code>Collection</code> does NOT have any <code>Artist</code>'s, <code>Album</code>'s, or <code>Song</code>'s</td></tr>
<tr><td>timestamp</td><td>unsigned integer</td><td>The UNIX timestamp of when this <code>Collection</code> was created</td></tr>
<tr><td>count_artist</td><td>unsigned integer</td><td>How many unique <code>Artist</code>'s there are in this <code>Collection</code></td></tr>
<tr><td>count_album</td><td>unsigned integer</td><td>How many unique <code>Album</code>'s there are in this <code>Collection</code></td></tr>
<tr><td>count_song</td><td>unsigned integer</td><td>How many unique <code>Song</code>'s there are in this <code>Collection</code></td></tr>
<tr><td>count_art</td><td>unsigned integer</td><td>How much unique <code>Album</code> art there are in this <code>Collection</code></td></tr>
</tbody></table>
</div>
<h4 id="example-request"><a class="header" href="#example-request">Example Request</a></h4>
<pre><code class="language-bash"># Use default Music PATH.
curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;collection_new&quot;,&quot;params&quot;:{&quot;paths&quot;:null}}'

# Use the PATH `/home/user/Music/collection` on `festivald`'s filesystem.
curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;collection_new&quot;,&quot;params&quot;:{&quot;paths&quot;:[&quot;/home/user/Music/collection&quot;]}}'

# Windows PATH works too if `\` is escaped (and if `festivald` is running on Windows).
curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;collection_new&quot;,&quot;params&quot;:{&quot;paths&quot;:[&quot;C:\\Users\\User\\Music\\collection&quot;]}}'
</code></pre>
<h4 id="example-response"><a class="header" href="#example-response">Example Response</a></h4>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;time&quot;: 0.462621988,
    &quot;empty&quot;: false,
    &quot;timestamp&quot;: 1690579397,
    &quot;count_artist&quot;: 195,
    &quot;count_album&quot;: 825,
    &quot;count_song&quot;: 8543,
    &quot;count_art&quot;: 824
  },
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="collection_brief"><a class="header" href="#collection_brief">collection_brief</a></h1>
<p>Retrieve some brief metadata about the current <a href="json-rpc/collection/../../common-objects/collection.html"><code>Collection</code></a>.</p>
<p>This method is a subset of the <a href="json-rpc/collection/collection_full.html"><code>collection_full</code></a> method.</p>
<h4 id="inputs-1"><a class="header" href="#inputs-1">Inputs</a></h4>
<p><code>None</code></p>
<h4 id="outputs-1"><a class="header" href="#outputs-1">Outputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>empty</td><td>boolean</td><td>If the <code>Collection</code> does NOT have any <code>Artist</code>'s, <code>Album</code>'s, or <code>Song</code>'s</td></tr>
<tr><td>timestamp</td><td>unsigned integer</td><td>The UNIX timestamp of when this <code>Collection</code> was created</td></tr>
<tr><td>count_artist</td><td>unsigned integer</td><td>How many unique <code>Artist</code>'s there are in this <code>Collection</code></td></tr>
<tr><td>count_album</td><td>unsigned integer</td><td>How many unique <code>Album</code>'s there are in this <code>Collection</code></td></tr>
<tr><td>count_song</td><td>unsigned integer</td><td>How many unique <code>Song</code>'s there are in this <code>Collection</code></td></tr>
<tr><td>count_art</td><td>unsigned integer</td><td>How much unique <code>Album</code> art there are in this <code>Collection</code></td></tr>
</tbody></table>
</div>
<h4 id="example-request-1"><a class="header" href="#example-request-1">Example Request</a></h4>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;collection_brief&quot;}'
</code></pre>
<h4 id="example-response-1"><a class="header" href="#example-response-1">Example Response</a></h4>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;empty&quot;: false,
    &quot;timestamp&quot;: 1690410052,
    &quot;count_artist&quot;: 195,
    &quot;count_album&quot;: 825,
    &quot;count_song&quot;: 8543,
    &quot;count_art&quot;: 824
  },
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="collection_full"><a class="header" href="#collection_full">collection_full</a></h1>
<p>Retrieve full metadata about the current <a href="json-rpc/collection/../../common-objects/collection.html"><code>Collection</code></a>.</p>
<h4 id="inputs-2"><a class="header" href="#inputs-2">Inputs</a></h4>
<p><code>None</code></p>
<h4 id="outputs-2"><a class="header" href="#outputs-2">Outputs</a></h4>
<p>The output of this method will be a full <a href="json-rpc/collection/../../common-objects/collection.html"><code>Collection</code></a> object.</p>
<h4 id="example-request-2"><a class="header" href="#example-request-2">Example Request</a></h4>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;collection_full&quot;}'
</code></pre>
<h4 id="example-response-2"><a class="header" href="#example-response-2">Example Response</a></h4>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;empty&quot;: false,
    &quot;timestamp&quot;: 1691018515,
    &quot;count_artist&quot;: 3,
    &quot;count_album&quot;: 4,
    &quot;count_song&quot;: 7,
    &quot;count_art&quot;: 4,
    &quot;artists&quot;: [
      {
        &quot;name&quot;: &quot;artist_1&quot;,
        &quot;key&quot;: 0,
        &quot;runtime&quot;: 4,
        &quot;albums&quot;: [
          0,
          1
        ],
        &quot;songs&quot;: [
          0,
          1,
          2,
          3
        ]
      },
      {
        &quot;name&quot;: &quot;artist_2&quot;,
        &quot;key&quot;: 1,
        &quot;runtime&quot;: 2,
        &quot;albums&quot;: [
          2
        ],
        &quot;songs&quot;: [
          4,
          5
        ]
      },
      {
        &quot;name&quot;: &quot;artist_3&quot;,
        &quot;key&quot;: 2,
        &quot;runtime&quot;: 1,
        &quot;albums&quot;: [
          3
        ],
        &quot;songs&quot;: [
          6
        ]
      }
    ],
    &quot;albums&quot;: [
      {
        &quot;title&quot;: &quot;album_1&quot;,
        &quot;key&quot;: 0,
        &quot;artist&quot;: 0,
        &quot;release&quot;: &quot;2018-04-25&quot;,
        &quot;runtime&quot;: 2,
        &quot;song_count&quot;: 2,
        &quot;songs&quot;: [
          0,
          1
        ],
        &quot;discs&quot;: 0,
        &quot;art&quot;: 10239,
        &quot;genre&quot;: null
      },
      {
        &quot;title&quot;: &quot;album_2&quot;,
        &quot;key&quot;: 1,
        &quot;artist&quot;: 0,
        &quot;release&quot;: &quot;2018-04-25&quot;,
        &quot;runtime&quot;: 2,
        &quot;song_count&quot;: 2,
        &quot;songs&quot;: [
          2,
          3
        ],
        &quot;discs&quot;: 0,
        &quot;art&quot;: 10239,
        &quot;genre&quot;: null
      },
      {
        &quot;title&quot;: &quot;album_3&quot;,
        &quot;key&quot;: 2,
        &quot;artist&quot;: 1,
        &quot;release&quot;: &quot;2018-04-25&quot;,
        &quot;runtime&quot;: 2,
        &quot;song_count&quot;: 2,
        &quot;songs&quot;: [
          4,
          5
        ],
        &quot;discs&quot;: 1,
        &quot;art&quot;: 10239,
        &quot;genre&quot;: null
      },
      {
        &quot;title&quot;: &quot;album_4&quot;,
        &quot;key&quot;: 3,
        &quot;artist&quot;: 2,
        &quot;release&quot;: &quot;2018-04-25&quot;,
        &quot;runtime&quot;: 1,
        &quot;song_count&quot;: 1,
        &quot;songs&quot;: [
          6
        ],
        &quot;discs&quot;: 0,
        &quot;art&quot;: 10239,
        &quot;genre&quot;: null
      }
    ],
    &quot;songs&quot;: [
      {
        &quot;title&quot;: &quot;mp3&quot;,
        &quot;key&quot;: 0,
        &quot;album&quot;: 0,
        &quot;runtime&quot;: 1,
        &quot;sample_rate&quot;: 48000,
        &quot;track&quot;: 1,
        &quot;disc&quot;: 2,
        &quot;mime&quot;: &quot;audio/mpeg&quot;,
        &quot;extension&quot;: &quot;mp3&quot;
      },
      {
        &quot;title&quot;: &quot;mp3&quot;,
        &quot;key&quot;: 1,
        &quot;album&quot;: 0,
        &quot;runtime&quot;: 1,
        &quot;sample_rate&quot;: 48000,
        &quot;track&quot;: 2,
        &quot;disc&quot;: 2,
        &quot;mime&quot;: &quot;audio/mpeg&quot;,
        &quot;extension&quot;: &quot;mp3&quot;
      },
      {
        &quot;title&quot;: &quot;mp3&quot;,
        &quot;key&quot;: 2,
        &quot;album&quot;: 1,
        &quot;runtime&quot;: 1,
        &quot;sample_rate&quot;: 48000,
        &quot;track&quot;: 1,
        &quot;disc&quot;: 2,
        &quot;mime&quot;: &quot;audio/mpeg&quot;,
        &quot;extension&quot;: &quot;mp3&quot;
      },
      {
        &quot;title&quot;: &quot;flac&quot;,
        &quot;key&quot;: 3,
        &quot;album&quot;: 1,
        &quot;runtime&quot;: 1,
        &quot;sample_rate&quot;: 48000,
        &quot;track&quot;: 2,
        &quot;disc&quot;: 2,
        &quot;mime&quot;: &quot;audio/x-flac&quot;,
        &quot;extension&quot;: &quot;flac&quot;
      },
      {
        &quot;title&quot;: &quot;m4a&quot;,
        &quot;key&quot;: 4,
        &quot;album&quot;: 2,
        &quot;runtime&quot;: 1,
        &quot;sample_rate&quot;: 48000,
        &quot;track&quot;: 1,
        &quot;disc&quot;: null,
        &quot;mime&quot;: &quot;audio/m4a&quot;,
        &quot;extension&quot;: &quot;m4a&quot;
      },
      {
        &quot;title&quot;: &quot;song_6&quot;,
        &quot;key&quot;: 5,
        &quot;album&quot;: 2,
        &quot;runtime&quot;: 1,
        &quot;sample_rate&quot;: 48000,
        &quot;track&quot;: 2,
        &quot;disc&quot;: 2,
        &quot;mime&quot;: &quot;audio/ogg&quot;,
        &quot;extension&quot;: &quot;ogg&quot;
      },
      {
        &quot;title&quot;: &quot;mp3&quot;,
        &quot;key&quot;: 6,
        &quot;album&quot;: 3,
        &quot;runtime&quot;: 1,
        &quot;sample_rate&quot;: 48000,
        &quot;track&quot;: 1,
        &quot;disc&quot;: 2,
        &quot;mime&quot;: &quot;audio/mpeg&quot;,
        &quot;extension&quot;: &quot;mp3&quot;
      }
    ],
    &quot;sort_artist_lexi&quot;: [
      0,
      1,
      2
    ],
    &quot;sort_artist_lexi_rev&quot;: [
      2,
      1,
      0
    ],
    &quot;sort_artist_album_count&quot;: [
      1,
      2,
      0
    ],
    &quot;sort_artist_album_count_rev&quot;: [
      0,
      2,
      1
    ],
    &quot;sort_artist_song_count&quot;: [
      2,
      1,
      0
    ],
    &quot;sort_artist_song_count_rev&quot;: [
      0,
      1,
      2
    ],
    &quot;sort_artist_runtime&quot;: [
      2,
      1,
      0
    ],
    &quot;sort_artist_runtime_rev&quot;: [
      0,
      1,
      2
    ],
    &quot;sort_artist_name&quot;: [
      0,
      1,
      2
    ],
    &quot;sort_artist_name_rev&quot;: [
      2,
      1,
      0
    ],
    &quot;sort_album_release_artist_lexi&quot;: [
      0,
      1,
      2,
      3
    ],
    &quot;sort_album_release_artist_lexi_rev&quot;: [
      3,
      2,
      0,
      1
    ],
    &quot;sort_album_release_rev_artist_lexi&quot;: [
      1,
      0,
      2,
      3
    ],
    &quot;sort_album_release_rev_artist_lexi_rev&quot;: [
      3,
      2,
      1,
      0
    ],
    &quot;sort_album_lexi_artist_lexi&quot;: [
      0,
      1,
      2,
      3
    ],
    &quot;sort_album_lexi_artist_lexi_rev&quot;: [
      3,
      2,
      0,
      1
    ],
    &quot;sort_album_lexi_rev_artist_lexi&quot;: [
      1,
      0,
      2,
      3
    ],
    &quot;sort_album_lexi_rev_artist_lexi_rev&quot;: [
      3,
      2,
      1,
      0
    ],
    &quot;sort_album_lexi&quot;: [
      0,
      1,
      2,
      3
    ],
    &quot;sort_album_lexi_rev&quot;: [
      3,
      2,
      1,
      0
    ],
    &quot;sort_album_release&quot;: [
      0,
      1,
      2,
      3
    ],
    &quot;sort_album_release_rev&quot;: [
      3,
      2,
      1,
      0
    ],
    &quot;sort_album_runtime&quot;: [
      3,
      0,
      1,
      2
    ],
    &quot;sort_album_runtime_rev&quot;: [
      2,
      1,
      0,
      3
    ],
    &quot;sort_album_title&quot;: [
      0,
      1,
      2,
      3
    ],
    &quot;sort_album_title_rev&quot;: [
      3,
      2,
      1,
      0
    ],
    &quot;sort_song_album_release_artist_lexi&quot;: [
      0,
      1,
      2,
      3,
      4,
      5,
      6
    ],
    &quot;sort_song_album_release_artist_lexi_rev&quot;: [
      6,
      4,
      5,
      0,
      1,
      2,
      3
    ],
    &quot;sort_song_album_release_rev_artist_lexi&quot;: [
      2,
      3,
      0,
      1,
      4,
      5,
      6
    ],
    &quot;sort_song_album_release_rev_artist_lexi_rev&quot;: [
      6,
      4,
      5,
      2,
      3,
      0,
      1
    ],
    &quot;sort_song_album_lexi_artist_lexi&quot;: [
      0,
      1,
      2,
      3,
      4,
      5,
      6
    ],
    &quot;sort_song_album_lexi_artist_lexi_rev&quot;: [
      6,
      4,
      5,
      0,
      1,
      2,
      3
    ],
    &quot;sort_song_album_lexi_rev_artist_lexi&quot;: [
      2,
      3,
      0,
      1,
      4,
      5,
      6
    ],
    &quot;sort_song_album_lexi_rev_artist_lexi_rev&quot;: [
      6,
      4,
      5,
      2,
      3,
      0,
      1
    ],
    &quot;sort_song_lexi&quot;: [
      3,
      4,
      0,
      1,
      2,
      6,
      5
    ],
    &quot;sort_song_lexi_rev&quot;: [
      5,
      6,
      2,
      1,
      0,
      4,
      3
    ],
    &quot;sort_song_release&quot;: [
      0,
      1,
      2,
      3,
      4,
      5,
      6
    ],
    &quot;sort_song_release_rev&quot;: [
      6,
      5,
      4,
      3,
      2,
      1,
      0
    ],
    &quot;sort_song_runtime&quot;: [
      0,
      1,
      2,
      3,
      4,
      5,
      6
    ],
    &quot;sort_song_runtime_rev&quot;: [
      6,
      5,
      4,
      3,
      2,
      1,
      0
    ],
    &quot;sort_song_title&quot;: [
      0,
      1,
      2,
      4,
      6,
      3,
      5
    ],
    &quot;sort_song_title_rev&quot;: [
      5,
      3,
      6,
      4,
      2,
      1,
      0
    ]
  },
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="collection_relation"><a class="header" href="#collection_relation">collection_relation</a></h1>
<p>Retrieve an array of every <code>Song</code> in the current <a href="json-rpc/collection/../../common-objects/collection.html"><code>Collection</code></a>, with its relational data.</p>
<p>This will return an empty array (<code>&quot;result&quot;: []</code>) if the <code>Collection</code> is empty.</p>
<p>This is a subset of the <a href="json-rpc/collection/collection_relation_full.html"><code>collection_relation_full</code></a> method.</p>
<p>See that method if you'd like to retrieve the <code>Song</code>'s PATH alongside this method.</p>
<h4 id="inputs-3"><a class="header" href="#inputs-3">Inputs</a></h4>
<p><code>None</code></p>
<h4 id="outputs-3"><a class="header" href="#outputs-3">Outputs</a></h4>
<p>The output is an un-named array containing:</p>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>artist</td><td>string</td><td>The <a href="json-rpc/collection/../../common-objects/artist.html"><code>Artist</code></a> name</td></tr>
<tr><td>album</td><td>string</td><td>The <a href="json-rpc/collection/../../common-objects/album.html"><code>Album</code></a> title</td></tr>
<tr><td>song</td><td>string</td><td>The <a href="json-rpc/collection/../../common-objects/song.html"><code>Song</code></a> title</td></tr>
<tr><td>key_artist</td><td>unsigned integer</td><td>The <code>Artist</code> <a href="json-rpc/collection/../../common-objects/key.html">key</a></td></tr>
<tr><td>key_album</td><td>unsigned integer</td><td>The <code>Album</code> <a href="json-rpc/collection/../../common-objects/key.html">key</a></td></tr>
<tr><td>key_song</td><td>unsigned integer</td><td>The <code>Song</code> <a href="json-rpc/collection/../../common-objects/key.html">key</a></td></tr>
</tbody></table>
</div>
<h4 id="example-request-3"><a class="header" href="#example-request-3">Example Request</a></h4>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;collection_relation&quot;}'
</code></pre>
<h4 id="example-response-3"><a class="header" href="#example-response-3">Example Response</a></h4>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: [
    {
      &quot;artist&quot;: &quot;artist_1&quot;,
      &quot;album&quot;: &quot;album_1&quot;,
      &quot;song&quot;: &quot;mp3&quot;,
      &quot;key_artist&quot;: 0,
      &quot;key_album&quot;: 0,
      &quot;key_song&quot;: 0
    },
    {
      &quot;artist&quot;: &quot;artist_1&quot;,
      &quot;album&quot;: &quot;album_1&quot;,
      &quot;song&quot;: &quot;mp3&quot;,
      &quot;key_artist&quot;: 0,
      &quot;key_album&quot;: 0,
      &quot;key_song&quot;: 1
    },
    {
      &quot;artist&quot;: &quot;artist_1&quot;,
      &quot;album&quot;: &quot;album_2&quot;,
      &quot;song&quot;: &quot;mp3&quot;,
      &quot;key_artist&quot;: 0,
      &quot;key_album&quot;: 1,
      &quot;key_song&quot;: 2
    },
    {
      &quot;artist&quot;: &quot;artist_1&quot;,
      &quot;album&quot;: &quot;album_2&quot;,
      &quot;song&quot;: &quot;flac&quot;,
      &quot;key_artist&quot;: 0,
      &quot;key_album&quot;: 1,
      &quot;key_song&quot;: 3
    },
    {
      &quot;artist&quot;: &quot;artist_2&quot;,
      &quot;album&quot;: &quot;album_3&quot;,
      &quot;song&quot;: &quot;m4a&quot;,
      &quot;key_artist&quot;: 1,
      &quot;key_album&quot;: 2,
      &quot;key_song&quot;: 4
    },
    {
      &quot;artist&quot;: &quot;artist_2&quot;,
      &quot;album&quot;: &quot;album_3&quot;,
      &quot;song&quot;: &quot;song_6&quot;,
      &quot;key_artist&quot;: 1,
      &quot;key_album&quot;: 2,
      &quot;key_song&quot;: 5
    },
    {
      &quot;artist&quot;: &quot;artist_3&quot;,
      &quot;album&quot;: &quot;album_4&quot;,
      &quot;song&quot;: &quot;mp3&quot;,
      &quot;key_artist&quot;: 2,
      &quot;key_album&quot;: 3,
      &quot;key_song&quot;: 6
    }
  ],
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="collection_relation_full"><a class="header" href="#collection_relation_full">collection_relation_full</a></h1>
<p>Retrieve an array of every <code>Song</code> in the current <a href="json-rpc/collection/../../common-objects/collection.html"><code>Collection</code></a>, with its relational data.</p>
<p>This will return an empty array (<code>&quot;result&quot;: []</code>) if the <code>Collection</code> is empty.</p>
<p>This is a superset of the <a href="json-rpc/collection/collection_relation.html"><code>collection_relation</code></a> method, with 1 additional field: the <code>path</code> of the <code>Song</code>.</p>
<p>This and <a href="json-rpc/collection/../state/state_config.html"><code>state_config</code></a> are the only methods that expose <code>festivald</code>'s local filesystem PATHs.</p>
<h4 id="inputs-4"><a class="header" href="#inputs-4">Inputs</a></h4>
<p><code>None</code></p>
<h4 id="outputs-4"><a class="header" href="#outputs-4">Outputs</a></h4>
<p>The output is an un-named array containing:</p>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>artist</td><td>string</td><td>The <a href="json-rpc/collection/../../common-objects/artist.html"><code>Artist</code></a> name</td></tr>
<tr><td>album</td><td>string</td><td>The <a href="json-rpc/collection/../../common-objects/album.html"><code>Album</code></a> title</td></tr>
<tr><td>song</td><td>string</td><td>The <a href="json-rpc/collection/../../common-objects/song.html"><code>Song</code></a> title</td></tr>
<tr><td>key_artist</td><td>unsigned integer</td><td>The <code>Artist</code> <a href="json-rpc/collection/../../common-objects/key.html">key</a></td></tr>
<tr><td>key_album</td><td>unsigned integer</td><td>The <code>Album</code> <a href="json-rpc/collection/../../common-objects/key.html">key</a></td></tr>
<tr><td>key_song</td><td>unsigned integer</td><td>The <code>Song</code> <a href="json-rpc/collection/../../common-objects/key.html">key</a></td></tr>
<tr><td>path</td><td>string (PATH)</td><td>The absolute PATH of this <code>Song</code>, on <code>festivald</code>'s local filesystem</td></tr>
</tbody></table>
</div>
<h4 id="example-request-4"><a class="header" href="#example-request-4">Example Request</a></h4>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;collection_relation_full&quot;}'
</code></pre>
<h4 id="example-response-4"><a class="header" href="#example-response-4">Example Response</a></h4>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: [
    {
      &quot;artist&quot;: &quot;artist_1&quot;,
      &quot;album&quot;: &quot;album_1&quot;,
      &quot;song&quot;: &quot;mp3&quot;,
      &quot;key_artist&quot;: 0,
      &quot;key_album&quot;: 0,
      &quot;key_song&quot;: 0,
      &quot;path&quot;: &quot;/home/hinto/festival/assets/audio/song_1.mp3&quot;
    },
    {
      &quot;artist&quot;: &quot;artist_1&quot;,
      &quot;album&quot;: &quot;album_1&quot;,
      &quot;song&quot;: &quot;mp3&quot;,
      &quot;key_artist&quot;: 0,
      &quot;key_album&quot;: 0,
      &quot;key_song&quot;: 1,
      &quot;path&quot;: &quot;/home/hinto/festival/assets/audio/song_2.mp3&quot;
    },
    {
      &quot;artist&quot;: &quot;artist_1&quot;,
      &quot;album&quot;: &quot;album_2&quot;,
      &quot;song&quot;: &quot;mp3&quot;,
      &quot;key_artist&quot;: 0,
      &quot;key_album&quot;: 1,
      &quot;key_song&quot;: 2,
      &quot;path&quot;: &quot;/home/hinto/festival/assets/audio/song_3.mp3&quot;
    },
    {
      &quot;artist&quot;: &quot;artist_1&quot;,
      &quot;album&quot;: &quot;album_2&quot;,
      &quot;song&quot;: &quot;flac&quot;,
      &quot;key_artist&quot;: 0,
      &quot;key_album&quot;: 1,
      &quot;key_song&quot;: 3,
      &quot;path&quot;: &quot;/home/hinto/festival/assets/audio/song_4.flac&quot;
    },
    {
      &quot;artist&quot;: &quot;artist_2&quot;,
      &quot;album&quot;: &quot;album_3&quot;,
      &quot;song&quot;: &quot;m4a&quot;,
      &quot;key_artist&quot;: 1,
      &quot;key_album&quot;: 2,
      &quot;key_song&quot;: 4,
      &quot;path&quot;: &quot;/home/hinto/festival/assets/audio/song_5.m4a&quot;
    },
    {
      &quot;artist&quot;: &quot;artist_2&quot;,
      &quot;album&quot;: &quot;album_3&quot;,
      &quot;song&quot;: &quot;song_6&quot;,
      &quot;key_artist&quot;: 1,
      &quot;key_album&quot;: 2,
      &quot;key_song&quot;: 5,
      &quot;path&quot;: &quot;/home/hinto/festival/assets/audio/song_6.ogg&quot;
    },
    {
      &quot;artist&quot;: &quot;artist_3&quot;,
      &quot;album&quot;: &quot;album_4&quot;,
      &quot;song&quot;: &quot;mp3&quot;,
      &quot;key_artist&quot;: 2,
      &quot;key_album&quot;: 3,
      &quot;key_song&quot;: 6,
      &quot;path&quot;: &quot;/home/hinto/festival/assets/audio/song_7.mp3&quot;
    }
  ],
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="collection_perf"><a class="header" href="#collection_perf">collection_perf</a></h1>
<p>View some performance stats about the latest <a href="json-rpc/collection/../../common-objects/collection.html"><code>Collection</code></a> construction.</p>
<h4 id="inputs-5"><a class="header" href="#inputs-5">Inputs</a></h4>
<p><code>None</code></p>
<h4 id="outputs-5"><a class="header" href="#outputs-5">Outputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>bytes</td><td>unsigned integer</td><td>Total size of the <code>Collection</code> (<code>collection.bin</code> only, not audio/art) in bytes</td></tr>
<tr><td>user</td><td>float</td><td><code>Collection</code> creation time in seconds, for the user</td></tr>
<tr><td>sys</td><td>float</td><td><code>Collection</code> creation time in seconds, for the system <code>festivald</code> is running on</td></tr>
</tbody></table>
</div>
<h4 id="example-request-5"><a class="header" href="#example-request-5">Example Request</a></h4>
<pre><code class="language-bash"># Windows PATH works too if `\` is escaped (and if `festivald` is running on Windows).
curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;collection_perf&quot;}'
</code></pre>
<h4 id="example-response-5"><a class="header" href="#example-response-5">Example Response</a></h4>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;bytes&quot;: 2649405,
    &quot;user&quot;: 0.3863234519958496,
    &quot;sys&quot;: 0.4135190546512604
  },
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="collection_resource_size"><a class="header" href="#collection_resource_size">collection_resource_size</a></h1>
<p>View the size of the current <a href="json-rpc/collection/../../common-objects/collection.html"><code>Collection</code></a>'s <em>underlying</em> resources (audio files and art).</p>
<h4 id="inputs-6"><a class="header" href="#inputs-6">Inputs</a></h4>
<p><code>None</code></p>
<h4 id="outputs-6"><a class="header" href="#outputs-6">Outputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>audio</td><td>unsigned integer</td><td>Total size of the <code>Collection</code>'s underlying audio files in bytes</td></tr>
<tr><td>art</td><td>unsigned integer</td><td>Total size of the <code>Collection</code>'s underlying <code>Album</code> art in bytes</td></tr>
</tbody></table>
</div>
<h4 id="example-request-6"><a class="header" href="#example-request-6">Example Request</a></h4>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;collection_resource_size&quot;}'
</code></pre>
<h4 id="example-response-6"><a class="header" href="#example-response-6">Example Response</a></h4>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;audio&quot;: 315060491209,
    &quot;art&quot;: 877030803
  },
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="state-retrieval"><a class="header" href="#state-retrieval">State Retrieval</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="state_daemon"><a class="header" href="#state_daemon">state_daemon</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="state_audio"><a class="header" href="#state_audio">state_audio</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="state_reset"><a class="header" href="#state_reset">state_reset</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="state_config"><a class="header" href="#state_config">state_config</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="state_ip"><a class="header" href="#state_ip">state_ip</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="key"><a class="header" href="#key">Key</a></h1>
<p>Use <a href="json-rpc/key/../../common-objects/key.html"><code>key</code></a>'s to retrieve a <a href="json-rpc/key/../../common-objects/song.html"><code>Song</code></a>, <a href="json-rpc/key/../../common-objects/album.html"><code>Album</code></a>, or <a href="json-rpc/key/../../common-objects/artist.html"><code>Artist</code></a>.</p>
<p>If the key is invalid, a JSON-RPC <a href="json-rpc/key/../json-rpc.html#example-json-rpc-20-failed-response"><code>error</code></a> will be returned.</p>
<p>To use regular <code>string</code>'s as input instead, see <a href="json-rpc/key/../map/map.html"><code>Map</code></a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="key_artist"><a class="header" href="#key_artist">key_artist</a></h1>
<p>Input an <code>Artist</code> key, retrieve an <a href="json-rpc/key/../../common-objects/artist.html"><code>Artist</code></a>.</p>
<h4 id="inputs-7"><a class="header" href="#inputs-7">Inputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>key</td><td><code>Artist</code> key (unsigned integer)</td><td>See <a href="json-rpc/key/key.html"><code>Key</code></a></td></tr>
</tbody></table>
</div>
<h4 id="outputs-7"><a class="header" href="#outputs-7">Outputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>artist</td><td><code>Artist</code> object</td><td>See <a href="json-rpc/key/../../common-objects/artist.html"><code>Artist</code></a></td></tr>
</tbody></table>
</div>
<h4 id="example-request-7"><a class="header" href="#example-request-7">Example Request</a></h4>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;key_artist&quot;,&quot;params&quot;:{&quot;key&quot;:123}}'
</code></pre>
<h4 id="example-response-7"><a class="header" href="#example-response-7">Example Response</a></h4>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;artist&quot;: {
      &quot;name&quot;: &quot;Rex Orange County&quot;,
      &quot;key&quot;: 65,
      &quot;runtime&quot;: 7583,
      &quot;albums&quot;: [
        237
      ],
      &quot;songs&quot;: [
        2800,
        2803,
        2809
      ]
    }
  },
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="key_album"><a class="header" href="#key_album">key_album</a></h1>
<p>Input an <code>Album</code> key, retrieve an <a href="json-rpc/key/../../common-objects/album.html"><code>Album</code></a>.</p>
<h4 id="inputs-8"><a class="header" href="#inputs-8">Inputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>key</td><td><code>Album</code> key (unsigned integer)</td><td>See <a href="json-rpc/key/key.html"><code>Key</code></a></td></tr>
</tbody></table>
</div>
<h4 id="outputs-8"><a class="header" href="#outputs-8">Outputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>album</td><td><code>Album</code> object</td><td>See <a href="json-rpc/key/../../common-objects/album.html"><code>Album</code></a></td></tr>
</tbody></table>
</div>
<h4 id="example-request-8"><a class="header" href="#example-request-8">Example Request</a></h4>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;key_album&quot;,&quot;params&quot;:{&quot;key&quot;:123}}'
</code></pre>
<h4 id="example-response-8"><a class="header" href="#example-response-8">Example Response</a></h4>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;album&quot;: {
      &quot;title&quot;: &quot;RAINBOW&quot;,
      &quot;key&quot;: 237,
      &quot;artist&quot;: 65,
      &quot;release&quot;: &quot;????-??-??&quot;,
      &quot;runtime&quot;: 1090,
      &quot;song_count&quot;: 6,
      &quot;songs&quot;: [
        2594,
        2540,
        2600,
        2496,
        2557,
        2500
      ],
      &quot;discs&quot;: 0,
      &quot;art&quot;: 7753,
      &quot;genre&quot;: null
    }
  },
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="key_song"><a class="header" href="#key_song">key_song</a></h1>
<p>Input a <code>Song</code> key, retrieve a <a href="json-rpc/key/../../common-objects/song.html"><code>Song</code></a>.</p>
<h4 id="inputs-9"><a class="header" href="#inputs-9">Inputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>key</td><td><code>Song</code> key (unsigned integer)</td><td>See <a href="json-rpc/key/key.html"><code>Key</code></a></td></tr>
</tbody></table>
</div>
<h4 id="outputs-9"><a class="header" href="#outputs-9">Outputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>song</td><td><code>Song</code> object</td><td>See <a href="json-rpc/key/../../common-objects/song.html"><code>Song</code></a></td></tr>
</tbody></table>
</div>
<h4 id="example-request-9"><a class="header" href="#example-request-9">Example Request</a></h4>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;key_song&quot;,&quot;params&quot;:{&quot;key&quot;:123}}'
</code></pre>
<h4 id="example-response-9"><a class="header" href="#example-response-9">Example Response</a></h4>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;song&quot;: {
      &quot;title&quot;: &quot;SUNFLOWER&quot;,
      &quot;key&quot;: 2594,
      &quot;album&quot;: 237,
      &quot;runtime&quot;: 252,
      &quot;sample_rate&quot;: 44100,
      &quot;track&quot;: 1,
      &quot;disc&quot;: null,
      &quot;mime&quot;: &quot;audio/mpeg&quot;,
      &quot;extension&quot;: &quot;mp3&quot;
    }
  },
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="map"><a class="header" href="#map">Map</a></h1>
<p>These methods are the same as the <a href="json-rpc/map/../key/key.html"><code>key_*</code></a> methods, but instead of <a href="json-rpc/map/../../common-objects/key.html"><code>key</code></a>'s, you can directly use:</p>
<ul>
<li><a href="json-rpc/map/../../common-objects/artist.html"><code>Artist</code></a> name</li>
<li><a href="json-rpc/map/../../common-objects/album.html"><code>Album</code></a> title</li>
<li><a href="json-rpc/map/../../common-objects/song.html"><code>Song</code></a> title</li>
</ul>
<p><code>strings</code> to lookup <a href="json-rpc/map/../../common-objects/common-objects.html"><code>Common Objects</code></a>.</p>
<p>So instead of:</p>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;key_artist&quot;,&quot;params&quot;:{&quot;key&quot;:100}}'
</code></pre>
<p>you can use:</p>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;map_artist&quot;,&quot;params&quot;:{&quot;artist&quot;:&quot;カネコアヤノ&quot;}}'
</code></pre>
<p>If the input is invalid, a JSON-RPC <a href="json-rpc/map/../json-rpc.html#example-json-rpc-20-failed-response"><code>error</code></a> will be returned.</p>
<h2 id="warning"><a class="header" href="#warning">Warning</a></h2>
<p>Inputs are case-sensitive and must be exactly correct.</p>
<p>If you have an <code>Album</code> called <code>Hello World</code>, none of these inputs will work:</p>
<ul>
<li><code>Hello world</code></li>
<li><code>hello World</code></li>
<li><code>HELlo World</code></li>
<li><code>HelloWorld</code></li>
<li><code>H3ll0 W0rld</code></li>
</ul>
<p>The input must be <em>exactly</em> <code>Hello World</code>.</p>
<h2 id="collisions"><a class="header" href="#collisions">Collisions</a></h2>
<p>When using <code>map_album</code> you must specify:</p>
<ul>
<li><code>Artist</code> name</li>
<li><code>Album</code> title</li>
</ul>
<p>and when using <code>map_song</code> you must specify:</p>
<ul>
<li><code>Artist</code> name</li>
<li><code>Album</code> title</li>
<li><code>Song</code> title</li>
</ul>
<p>The reason these have to be specified is to prevent collisions.</p>
<p>If there's 2 songs in your <code>Collection</code> called: <code>Hello World</code>, which one should <code>festivald</code> return?</p>
<p>Since <code>Artist</code> names are unique, and <code>Album</code> titles within <code>Artist</code>'s are unique, they serve as an identifier.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="map_artist"><a class="header" href="#map_artist">map_artist</a></h1>
<p>Input an <code>Artist</code> name, retrieve an <a href="json-rpc/map/../../common-objects/artist.html"><code>Artist</code></a>.</p>
<h4 id="inputs-10"><a class="header" href="#inputs-10">Inputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>artist</td><td>string</td><td><code>Artist</code> name</td></tr>
</tbody></table>
</div>
<h4 id="outputs-10"><a class="header" href="#outputs-10">Outputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>artist</td><td><code>Artist</code> object</td><td>See <a href="json-rpc/map/../../common-objects/artist.html"><code>Artist</code></a></td></tr>
</tbody></table>
</div>
<h4 id="example-request-10"><a class="header" href="#example-request-10">Example Request</a></h4>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;map_artist&quot;,&quot;params&quot;:{&quot;artist&quot;:&quot;Rex Orange County&quot;}}'
</code></pre>
<h4 id="example-response-10"><a class="header" href="#example-response-10">Example Response</a></h4>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;artist&quot;: {
      &quot;name&quot;: &quot;Rex Orange County&quot;,
      &quot;key&quot;: 65,
      &quot;runtime&quot;: 7583,
      &quot;albums&quot;: [
        237
      ],
      &quot;songs&quot;: [
        2800,
        2803,
        2809
      ]
    }
  },
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="map_album"><a class="header" href="#map_album">map_album</a></h1>
<p>Input an <code>Artist</code> name and <code>Album</code> title, retrieve an <a href="json-rpc/map/../../common-objects/album.html"><code>Album</code></a>.</p>
<h4 id="inputs-11"><a class="header" href="#inputs-11">Inputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>artist</td><td>string</td><td><code>Artist</code> name</td></tr>
<tr><td>album</td><td>string</td><td><code>Album</code> title</td></tr>
</tbody></table>
</div>
<h4 id="outputs-11"><a class="header" href="#outputs-11">Outputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>album</td><td><code>Album</code> object</td><td>See <a href="json-rpc/map/../../common-objects/album.html"><code>Album</code></a></td></tr>
</tbody></table>
</div>
<h4 id="example-request-11"><a class="header" href="#example-request-11">Example Request</a></h4>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;map_song&quot;,&quot;params&quot;:{&quot;artist&quot;:&quot;Rex Orange County&quot;,&quot;album&quot;:&quot;RAINBOW&quot;}}'
</code></pre>
<h4 id="example-response-11"><a class="header" href="#example-response-11">Example Response</a></h4>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;album&quot;: {
      &quot;title&quot;: &quot;RAINBOW&quot;,
      &quot;key&quot;: 237,
      &quot;artist&quot;: 65,
      &quot;release&quot;: &quot;????-??-??&quot;,
      &quot;runtime&quot;: 1090,
      &quot;song_count&quot;: 6,
      &quot;songs&quot;: [
        2594,
        2540,
        2600,
        2496,
        2557,
        2500
      ],
      &quot;discs&quot;: 0,
      &quot;art&quot;: 7753,
      &quot;genre&quot;: null
    }
  },
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="map_song"><a class="header" href="#map_song">map_song</a></h1>
<p>Input an <code>Artist</code> name, <code>Album</code> title, and <code>Song</code> title, retrieve a <a href="json-rpc/map/../../common-objects/song.html"><code>Song</code></a>.</p>
<h4 id="inputs-12"><a class="header" href="#inputs-12">Inputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>artist</td><td>string</td><td><code>Artist</code> name</td></tr>
<tr><td>album</td><td>string</td><td><code>Album</code> title</td></tr>
<tr><td>song</td><td>string</td><td><code>Song</code> title</td></tr>
</tbody></table>
</div>
<h4 id="outputs-12"><a class="header" href="#outputs-12">Outputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>song</td><td><code>Song</code> object</td><td>See <a href="json-rpc/map/../../common-objects/song.html"><code>Song</code></a></td></tr>
</tbody></table>
</div>
<h4 id="example-request-12"><a class="header" href="#example-request-12">Example Request</a></h4>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;map_song&quot;,&quot;params&quot;:{&quot;artist&quot;:&quot;Rex Orange County&quot;,&quot;album&quot;:&quot;RAINBOW&quot;,&quot;song&quot;:&quot;SUNFLOWER&quot;}}'
</code></pre>
<h4 id="example-response-12"><a class="header" href="#example-response-12">Example Response</a></h4>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;song&quot;: {
      &quot;title&quot;: &quot;SUNFLOWER&quot;,
      &quot;key&quot;: 2594,
      &quot;album&quot;: 237,
      &quot;runtime&quot;: 252,
      &quot;sample_rate&quot;: 44100,
      &quot;track&quot;: 1,
      &quot;disc&quot;: null,
      &quot;mime&quot;: &quot;audio/mpeg&quot;,
      &quot;extension&quot;: &quot;mp3&quot;
    }
  },
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="current"><a class="header" href="#current">Current</a></h1>
<p>Access the <em>currently</em> set <a href="json-rpc/current/../../common-objects/song.html"><code>Song</code></a>, its <a href="json-rpc/current/../../common-objects/album.html"><code>Album</code></a>, or its <a href="json-rpc/current/../../common-objects/artist.html"><code>Artist</code></a>.</p>
<p>If no <code>Song</code> is set, a JSON-RPC <a href="json-rpc/current/../json-rpc.html#example-json-rpc-20-failed-response"><code>error</code></a> will be returned.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="current_artist"><a class="header" href="#current_artist">current_artist</a></h1>
<p>Access the <a href="json-rpc/current/../../common-objects/artist.html"><code>Artist</code></a> of the currently set <code>Song</code>.</p>
<h4 id="inputs-13"><a class="header" href="#inputs-13">Inputs</a></h4>
<p><code>None</code></p>
<h4 id="outputs-13"><a class="header" href="#outputs-13">Outputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>artist</td><td><code>Artist</code> object</td><td>See <a href="json-rpc/current/../../common-objects/artist.html"><code>Artist</code></a></td></tr>
</tbody></table>
</div>
<h4 id="example-request-13"><a class="header" href="#example-request-13">Example Request</a></h4>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;current_artist&quot;}'
</code></pre>
<h4 id="example-response-13"><a class="header" href="#example-response-13">Example Response</a></h4>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;artist&quot;: {
      &quot;name&quot;: &quot;Rex Orange County&quot;,
      &quot;key&quot;: 65,
      &quot;runtime&quot;: 7583,
      &quot;albums&quot;: [
        237
      ],
      &quot;songs&quot;: [
        2800,
        2803,
        2809
      ]
    }
  },
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="current_album"><a class="header" href="#current_album">current_album</a></h1>
<p>Access the <a href="json-rpc/current/../../common-objects/album.html"><code>Album</code></a> of the currently set <code>Song</code>.</p>
<h4 id="inputs-14"><a class="header" href="#inputs-14">Inputs</a></h4>
<p><code>None</code></p>
<h4 id="outputs-14"><a class="header" href="#outputs-14">Outputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>album</td><td><code>Album</code> object</td><td>See <a href="json-rpc/current/../../common-objects/album.html"><code>Album</code></a></td></tr>
</tbody></table>
</div>
<h4 id="example-request-14"><a class="header" href="#example-request-14">Example Request</a></h4>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;current_album&quot;}'
</code></pre>
<h4 id="example-response-14"><a class="header" href="#example-response-14">Example Response</a></h4>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;album&quot;: {
      &quot;title&quot;: &quot;RAINBOW&quot;,
      &quot;key&quot;: 237,
      &quot;artist&quot;: 65,
      &quot;release&quot;: &quot;????-??-??&quot;,
      &quot;runtime&quot;: 1090,
      &quot;song_count&quot;: 6,
      &quot;songs&quot;: [
        2594,
        2540,
        2600,
        2496,
        2557,
        2500
      ],
      &quot;discs&quot;: 0,
      &quot;art&quot;: 7753,
      &quot;genre&quot;: null
    }
  },
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="current_song"><a class="header" href="#current_song">current_song</a></h1>
<p>Access the currently set <a href="json-rpc/current/../../common-objects/song.html"><code>Song</code></a>.</p>
<h4 id="inputs-15"><a class="header" href="#inputs-15">Inputs</a></h4>
<p><code>None</code></p>
<h4 id="outputs-15"><a class="header" href="#outputs-15">Outputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>song</td><td><code>Song</code> object</td><td>See <a href="json-rpc/current/../../common-objects/song.html"><code>Song</code></a></td></tr>
</tbody></table>
</div>
<h4 id="example-request-15"><a class="header" href="#example-request-15">Example Request</a></h4>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;current_song&quot;}'
</code></pre>
<h4 id="example-response-15"><a class="header" href="#example-response-15">Example Response</a></h4>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;song&quot;: {
      &quot;title&quot;: &quot;SUNFLOWER&quot;,
      &quot;key&quot;: 2594,
      &quot;album&quot;: 237,
      &quot;runtime&quot;: 252,
      &quot;sample_rate&quot;: 44100,
      &quot;track&quot;: 1,
      &quot;disc&quot;: null,
      &quot;mime&quot;: &quot;audio/mpeg&quot;,
      &quot;extension&quot;: &quot;mp3&quot;
    }
  },
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rand"><a class="header" href="#rand">Rand</a></h1>
<p>Access a random <a href="json-rpc/rand/../../common-objects/song.html"><code>Song</code></a>, <a href="json-rpc/rand/../../common-objects/album.html"><code>Album</code></a>, or <a href="json-rpc/rand/../../common-objects/artist.html"><code>Artist</code></a>.</p>
<p>If the <a href="json-rpc/rand/../../common-objects/collection.html"><code>Collection</code></a> is empty, a JSON-RPC <a href="json-rpc/rand/../json-rpc.html#example-json-rpc-20-failed-response"><code>error</code></a> will be returned.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rand_artist"><a class="header" href="#rand_artist">rand_artist</a></h1>
<p>Access a random <a href="json-rpc/rand/../../common-objects/artist.html"><code>Artist</code></a>.</p>
<h4 id="inputs-16"><a class="header" href="#inputs-16">Inputs</a></h4>
<p><code>None</code></p>
<h4 id="outputs-16"><a class="header" href="#outputs-16">Outputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>artist</td><td><code>Artist</code> object</td><td>See <a href="json-rpc/rand/../../common-objects/artist.html"><code>Artist</code></a></td></tr>
</tbody></table>
</div>
<h4 id="example-request-16"><a class="header" href="#example-request-16">Example Request</a></h4>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;rand_artist&quot;}'
</code></pre>
<h4 id="example-response-16"><a class="header" href="#example-response-16">Example Response</a></h4>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;artist&quot;: {
      &quot;name&quot;: &quot;Rex Orange County&quot;,
      &quot;key&quot;: 65,
      &quot;runtime&quot;: 7583,
      &quot;albums&quot;: [
        237
      ],
      &quot;songs&quot;: [
        2800,
        2803,
        2809
      ]
    }
  },
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rand_album"><a class="header" href="#rand_album">rand_album</a></h1>
<p>Access a random <a href="json-rpc/rand/../../common-objects/album.html"><code>Album</code></a>.</p>
<h4 id="inputs-17"><a class="header" href="#inputs-17">Inputs</a></h4>
<p><code>None</code></p>
<h4 id="outputs-17"><a class="header" href="#outputs-17">Outputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>album</td><td><code>Album</code> object</td><td>See <a href="json-rpc/rand/../../common-objects/album.html"><code>Album</code></a></td></tr>
</tbody></table>
</div>
<h4 id="example-request-17"><a class="header" href="#example-request-17">Example Request</a></h4>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;rand_album&quot;}'
</code></pre>
<h4 id="example-response-17"><a class="header" href="#example-response-17">Example Response</a></h4>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;album&quot;: {
      &quot;title&quot;: &quot;RAINBOW&quot;,
      &quot;key&quot;: 237,
      &quot;artist&quot;: 65,
      &quot;release&quot;: &quot;????-??-??&quot;,
      &quot;runtime&quot;: 1090,
      &quot;song_count&quot;: 6,
      &quot;songs&quot;: [
        2594,
        2540,
        2600,
        2496,
        2557,
        2500
      ],
      &quot;discs&quot;: 0,
      &quot;art&quot;: 7753,
      &quot;genre&quot;: null
    }
  },
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rand_song"><a class="header" href="#rand_song">rand_song</a></h1>
<p>Access a random <a href="json-rpc/rand/../../common-objects/song.html"><code>Song</code></a>.</p>
<h4 id="inputs-18"><a class="header" href="#inputs-18">Inputs</a></h4>
<p><code>None</code></p>
<h4 id="outputs-18"><a class="header" href="#outputs-18">Outputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>song</td><td><code>Song</code> object</td><td>See <a href="json-rpc/rand/../../common-objects/song.html"><code>Song</code></a></td></tr>
</tbody></table>
</div>
<h4 id="example-request-18"><a class="header" href="#example-request-18">Example Request</a></h4>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;current_song&quot;}'
</code></pre>
<h4 id="example-response-18"><a class="header" href="#example-response-18">Example Response</a></h4>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;song&quot;: {
      &quot;title&quot;: &quot;SUNFLOWER&quot;,
      &quot;key&quot;: 2594,
      &quot;album&quot;: 237,
      &quot;runtime&quot;: 252,
      &quot;sample_rate&quot;: 44100,
      &quot;track&quot;: 1,
      &quot;disc&quot;: null,
      &quot;mime&quot;: &quot;audio/mpeg&quot;,
      &quot;extension&quot;: &quot;mp3&quot;
    }
  },
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="search"><a class="header" href="#search">Search</a></h1>
<p>Fuzzy similarity searches for <a href="json-rpc/search/../../common-objects/song.html"><code>Song</code></a>'s, <a href="json-rpc/search/../../common-objects/album.html"><code>Album</code></a>'s, and <a href="json-rpc/search/../../common-objects/artist.html"><code>Artist</code></a>'s.</p>
<p>In general: input a <code>string</code>, receive some <a href="json-rpc/search/../../common-objects/artist.html"><code>Artist</code></a>/<a href="json-rpc/search/../../common-objects/album.html"><code>Album</code></a>/<a href="json-rpc/search/../../common-objects/song.html"><code>Song</code></a> objects that are similar to the input.</p>
<p>If you know the <em>exact</em> <code>string</code> for a <code>Song</code>, <code>Album</code>, or <code>Artist</code>, consider using the <a href="json-rpc/search/../map/map.html"><code>Map</code></a> methods instead.</p>
<h2 id="warning-1"><a class="header" href="#warning-1">Warning</a></h2>
<p>The output array may return empty given no matches or an empty <code>Collection</code>:</p>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;songs&quot;: []
  },
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="search-1"><a class="header" href="#search-1">search</a></h1>
<p>Input a <code>string</code>, retrieve arrays of <a href="json-rpc/search/../../common-objects/artist.html"><code>Artist</code></a>'s, <a href="json-rpc/search/../../common-objects/album.html"><code>Album</code></a>'s, and <a href="json-rpc/search/../../common-objects/song.html"><code>Song</code></a>'s, sorted by how similar their names/titles are to the input.</p>
<h4 id="inputs-19"><a class="header" href="#inputs-19">Inputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>input</td><td>string</td><td>The string to match against, to use as input</td></tr>
<tr><td>kind</td><td>string, one of <code>all</code>, <code>sim70</code>, <code>top25</code>, <code>top1</code></td><td>This dictates how many objects back you will receive. <code>all</code> means ALL objects in the <code>Collection</code> will be returned. <code>sim70</code> means only objects that are <code>70%</code> similar will be returned. <code>top25</code> means only the top 25 results will be returned (per object group, so total 75). <code>top1</code> means only the top result will be returned.</td></tr>
</tbody></table>
</div>
<h4 id="outputs-19"><a class="header" href="#outputs-19">Outputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>artists</td><td>array of <code>Artist</code> objects</td><td>An array of <code>Artist</code> objects, sorted by most similar name first</td></tr>
<tr><td>albums</td><td>array of <code>Album</code> objects</td><td>An array of <code>Album</code> objects, sorted by most similar title first</td></tr>
<tr><td>songs</td><td>array of <code>Song</code> objects</td><td>An array of <code>Song</code> objects, sorted by most similar title first</td></tr>
</tbody></table>
</div>
<h4 id="example-request-19"><a class="header" href="#example-request-19">Example Request</a></h4>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;search&quot;,&quot;params&quot;:{&quot;input&quot;:&quot;twice&quot;,&quot;kind&quot;:&quot;sim70&quot;}}'
</code></pre>
<h4 id="example-response-19"><a class="header" href="#example-response-19">Example Response</a></h4>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;artists&quot;: [
      {
        &quot;name&quot;: &quot;TWICE&quot;,
        &quot;key&quot;: 106,
        &quot;runtime&quot;: 343,
        &quot;albums&quot;: [
          598
        ],
        &quot;songs&quot;: [
          5411
        ]
      },
    ],
    &quot;albums&quot;: [
      {
        &quot;title&quot;: &quot;TIME&quot;,
        &quot;key&quot;: 271,
        &quot;artist&quot;: 42,
        &quot;release&quot;: &quot;2014-01-21&quot;,
        &quot;runtime&quot;: 2904,
        &quot;song_count&quot;: 3,
        &quot;songs&quot;: [
          3058,
          3095,
          3121
        ],
        &quot;discs&quot;: 0,
        &quot;art&quot;: 1264656,
        &quot;genre&quot;: null
      }
    ],
    &quot;songs&quot;: [
      {
        &quot;title&quot;: &quot;TIME&quot;,
        &quot;key&quot;: 5560,
        &quot;album&quot;: 538,
        &quot;runtime&quot;: 249,
        &quot;sample_rate&quot;: 44100,
        &quot;track&quot;: 5,
        &quot;disc&quot;: 1,
        &quot;mime&quot;: &quot;audio/x-flac&quot;,
        &quot;extension&quot;: &quot;flac&quot;
      }
    ]
  },
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="search_artist"><a class="header" href="#search_artist">search_artist</a></h1>
<p>Input a <code>string</code>, retrieve an array of <a href="json-rpc/search/../../common-objects/artist.html"><code>Artist</code></a>'s, sorted by how similar their names are to the input.</p>
<h4 id="inputs-20"><a class="header" href="#inputs-20">Inputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>input</td><td>string</td><td>The string to match against, to use as input</td></tr>
<tr><td>kind</td><td>string, one of <code>all</code>, <code>sim70</code>, <code>top25</code>, <code>top1</code></td><td>This dictates how many objects back you will receive. <code>all</code> means ALL <code>Artist</code>'s will be returned. <code>sim70</code> means only <code>Artist</code>'s that are <code>70%</code> similar will be returned. <code>top25</code> means only the top 25 results will be returned. <code>top1</code> means only the top result will be returned.</td></tr>
</tbody></table>
</div>
<h4 id="outputs-20"><a class="header" href="#outputs-20">Outputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>artists</td><td>array of <code>Artist</code> objects</td><td>An array of <code>Artist</code> objects, sorted by most similar name first</td></tr>
</tbody></table>
</div>
<h4 id="example-request-20"><a class="header" href="#example-request-20">Example Request</a></h4>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;search_artist&quot;,&quot;params&quot;:{&quot;input&quot;:&quot;twice&quot;,&quot;kind&quot;:&quot;sim70&quot;}}'
</code></pre>
<h4 id="example-response-20"><a class="header" href="#example-response-20">Example Response</a></h4>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;artists&quot;: [
      {
        &quot;name&quot;: &quot;TWICE&quot;,
        &quot;key&quot;: 106,
        &quot;runtime&quot;: 343,
        &quot;albums&quot;: [
          598
        ],
        &quot;songs&quot;: [
          5411
        ]
      }
    ]
  },
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="search_album"><a class="header" href="#search_album">search_album</a></h1>
<p>Input a <code>string</code>, retrieve an array of <a href="json-rpc/search/../../common-objects/album.html"><code>Album</code></a>'s, sorted by how similar their titles are to the input.</p>
<h4 id="inputs-21"><a class="header" href="#inputs-21">Inputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>input</td><td>string</td><td>The string to match against, to use as input</td></tr>
<tr><td>kind</td><td>string, one of <code>all</code>, <code>sim70</code>, <code>top25</code>, <code>top1</code></td><td>This dictates how many objects back you will receive. <code>all</code> means ALL <code>Album</code>'s will be returned. <code>sim70</code> means only <code>Album</code>'s that are <code>70%</code> similar will be returned. <code>top25</code> means only the top 25 results will be returned. <code>top1</code> means only the top result will be returned.</td></tr>
</tbody></table>
</div>
<h4 id="outputs-21"><a class="header" href="#outputs-21">Outputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>albums</td><td>array of <code>Album</code> objects</td><td>An array of <code>Album</code> objects, sorted by most similar title first</td></tr>
</tbody></table>
</div>
<h4 id="example-request-21"><a class="header" href="#example-request-21">Example Request</a></h4>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;search_album&quot;,&quot;params&quot;:{&quot;input&quot;:&quot;time&quot;,&quot;kind&quot;:&quot;sim70&quot;}}'
</code></pre>
<h4 id="example-response-21"><a class="header" href="#example-response-21">Example Response</a></h4>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;albums&quot;: [
      {
        &quot;title&quot;: &quot;TIME&quot;,
        &quot;key&quot;: 271,
        &quot;artist&quot;: 42,
        &quot;release&quot;: &quot;2014-01-21&quot;,
        &quot;runtime&quot;: 2904,
        &quot;song_count&quot;: 3,
        &quot;songs&quot;: [
          3058,
          3095,
          3121
        ],
        &quot;discs&quot;: 0,
        &quot;art&quot;: 1264656,
        &quot;genre&quot;: null
      }
    ]
  },
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="search_song"><a class="header" href="#search_song">search_song</a></h1>
<p>Input a <code>string</code>, retrieve an array of <a href="json-rpc/search/../../common-objects/song.html"><code>Song</code></a>'s, sorted by how similar their titles are to the input.</p>
<h4 id="inputs-22"><a class="header" href="#inputs-22">Inputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>input</td><td>string</td><td>The string to match against, to use as input</td></tr>
<tr><td>kind</td><td>string, one of <code>all</code>, <code>sim70</code>, <code>top25</code>, <code>top1</code></td><td>This dictates how many objects back you will receive. <code>all</code> means ALL <code>Song</code>'s will be returned. <code>sim70</code> means only <code>Song</code>'s that are <code>70%</code> similar will be returned. <code>top25</code> means only the top 25 results will be returned. <code>top1</code> means only the top result will be returned.</td></tr>
</tbody></table>
</div>
<h4 id="outputs-22"><a class="header" href="#outputs-22">Outputs</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td>songs</td><td>array of <code>Song</code> objects</td><td>An array of <code>Song</code> objects, sorted by most similar title first</td></tr>
</tbody></table>
</div>
<h4 id="example-request-22"><a class="header" href="#example-request-22">Example Request</a></h4>
<pre><code class="language-bash">curl http://localhost:18425 -d '{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:0,&quot;method&quot;:&quot;search_song&quot;,&quot;params&quot;:{&quot;input&quot;:&quot;time&quot;,&quot;kind&quot;:&quot;sim70&quot;}}'
</code></pre>
<h4 id="example-response-22"><a class="header" href="#example-response-22">Example Response</a></h4>
<pre><code class="language-json">{
  &quot;jsonrpc&quot;: &quot;2.0&quot;,
  &quot;result&quot;: {
    &quot;songs&quot;: [
      {
        &quot;title&quot;: &quot;TIME&quot;,
        &quot;key&quot;: 5412,
        &quot;album&quot;: 528,
        &quot;runtime&quot;: 249,
        &quot;sample_rate&quot;: 44100,
        &quot;track&quot;: 5,
        &quot;disc&quot;: 1,
        &quot;mime&quot;: &quot;audio/x-flac&quot;,
        &quot;extension&quot;: &quot;flac&quot;
      }
    ]
  },
  &quot;id&quot;: 0
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="playback-control"><a class="header" href="#playback-control">Playback Control</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="toggle"><a class="header" href="#toggle">toggle</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="play"><a class="header" href="#play">play</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="pause"><a class="header" href="#pause">pause</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="next"><a class="header" href="#next">next</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="stop"><a class="header" href="#stop">stop</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="shuffle"><a class="header" href="#shuffle">shuffle</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="repeat_off"><a class="header" href="#repeat_off">repeat_off</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="repeat_song"><a class="header" href="#repeat_song">repeat_song</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="repeat_queue"><a class="header" href="#repeat_queue">repeat_queue</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="previous"><a class="header" href="#previous">previous</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="volume"><a class="header" href="#volume">volume</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="clear"><a class="header" href="#clear">clear</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="seek"><a class="header" href="#seek">seek</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="skip"><a class="header" href="#skip">skip</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="back"><a class="header" href="#back">back</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="add_queue_key_artist"><a class="header" href="#add_queue_key_artist">add_queue_key_artist</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="add_queue_key_album"><a class="header" href="#add_queue_key_album">add_queue_key_album</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="add_queue_key_song"><a class="header" href="#add_queue_key_song">add_queue_key_song</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="add_queue_map_artist"><a class="header" href="#add_queue_map_artist">add_queue_map_artist</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="add_queue_map_album"><a class="header" href="#add_queue_map_album">add_queue_map_album</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="add_queue_map_song"><a class="header" href="#add_queue_map_song">add_queue_map_song</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="add_queue_rand_artist"><a class="header" href="#add_queue_rand_artist">add_queue_rand_artist</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="add_queue_rand_album"><a class="header" href="#add_queue_rand_album">add_queue_rand_album</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="add_queue_rand_song"><a class="header" href="#add_queue_rand_song">add_queue_rand_song</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="set_queue_index"><a class="header" href="#set_queue_index">set_queue_index</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="remove_queue_range"><a class="header" href="#remove_queue_range">remove_queue_range</a></h1>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
